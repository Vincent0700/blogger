<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="google-site-verification" content="n1Pt1eZqb7M4_TQ2aUQQMRpFNGt6r1HyFpvqDw4y4lY"><meta name="description" content="Nameko is a microservices framework for Python that lets service developers concentrate on application logic and encourages testability.FeaturesAccording to official documentation:It comes with built-"><meta property="og:type" content="article"><meta property="og:title" content="Use Nameko + RabbitMQ to establish your Microservice"><meta property="og:url" content="https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/index.html"><meta property="og:site_name" content="VINCENT STUDIO"><meta property="og:description" content="Nameko is a microservices framework for Python that lets service developers concentrate on application logic and encourages testability.FeaturesAccording to official documentation:It comes with built-"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/nameko.png"><meta property="article:published_time" content="2019-04-24T03:00:00.000Z"><meta property="article:modified_time" content="2020-01-30T08:29:43.762Z"><meta property="article:author" content="Vincent"><meta property="article:tag" content="Python"><meta property="article:tag" content="RPC"><meta property="article:tag" content="Microservice"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/nameko.png"><link rel="shortcut icon" href="/images/favicon.ico"><link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><title>Use Nameko + RabbitMQ to establish your Microservice</title><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/rtl.css"><link rel="alternate" href="/atom.xml" title="VINCENT STUDIO" type="application/atom+xml"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?7ac0adab0f2e7ed17b1d2759a04af674";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><meta name="generator" content="Hexo 4.2.0"></head><body class="max-width mx-auto px3 ltr"><div id="header-post"><a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")' style="display:none"><i class="fas fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">HOME</a></li><li><a href="/archives/">ARTICLES</a></li><li><a href="/search/">SEARCH</a></li><li><a href="/links/">LINKS</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="/2019/05/02/027_A_list_of_Open_Source_NAS_Operating_System/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class="icon" href="/2019/04/13/025_Pipenv_Tutorial/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class="icon" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fas fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id="i-prev" class="info" style="display:none">Previous post</span> <span id="i-next" class="info" style="display:none">Next post</span> <span id="i-top" class="info" style="display:none">Back to top</span> <span id="i-share" class="info" style="display:none">Share post</span></span><br><div id="share" style="display:none"><ul><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/" target="_blank" rel="noopener"><i class="fab fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&text=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&title=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&is_video=false&description=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Use Nameko + RabbitMQ to establish your Microservice&body=Check out this article: https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/"><i class="fas fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&title=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&title=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&title=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&title=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-digg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.tumblr.com/share/link?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&name=Use Nameko + RabbitMQ to establish your Microservice&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr" aria-hidden="true"></i></a></li></ul></div><div id="toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Features"><span class="toc-number">1.</span> <span class="toc-text">Features</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Quick-Guide"><span class="toc-number">2.</span> <span class="toc-text">Quick Guide</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Environment"><span class="toc-number">2.1.</span> <span class="toc-text">Environment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install"><span class="toc-number">2.2.</span> <span class="toc-text">Install</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-a-Service"><span class="toc-number">2.3.</span> <span class="toc-text">Create a Service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Start-your-service"><span class="toc-number">2.4.</span> <span class="toc-text">Start your service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#How-to-Invoke-Client"><span class="toc-number">2.5.</span> <span class="toc-text">How to Invoke? (Client)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Other-Protocols-support"><span class="toc-number">3.</span> <span class="toc-text">Other Protocols support</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-number">4.</span> <span class="toc-text">Reference</span></a></li></ol></div></span></div><div class="content index py4"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Use Nameko + RabbitMQ to establish your Microservice</h1><div class="meta"><span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">VINCENT STUDIO</span></span><div class="postdate"><time datetime="2019-04-24T03:00:00.000Z" itemprop="datePublished">2019-04-24</time></div><div class="article-category"><i class="fas fa-archive"></i> <a class="category-link" href="/categories/Tech/">Tech</a></div><div class="article-tag"><i class="fas fa-tag"></i> <a class="tag-link" href="/tags/Microservice/" rel="tag">Microservice</a>, <a class="tag-link" href="/tags/Python/" rel="tag">Python</a>, <a class="tag-link" href="/tags/RPC/" rel="tag">RPC</a></div></div></header><div class="content" itemprop="articleBody"><blockquote><p>Nameko is a microservices framework for Python that lets service developers concentrate on application logic and encourages testability.</p></blockquote><img src="/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/nameko.png"><h2 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h2><p>According to official documentation:</p><blockquote><p>It comes with built-in support for:</p><ul><li>RPC over AMQP</li><li>Asynchronous events (pub-sub) over AMQP</li><li>Simple HTTP GET and POST</li><li>Websocket RPC and subscriptions (experimental)</li></ul></blockquote><p>As I know, It can also respond to grpc requests by using <a href="https://github.com/nameko/nameko-grpc" target="_blank" rel="noopener">nameko-grpc</a> extension.</p><h2 id="Quick-Guide"><a href="#Quick-Guide" class="headerlink" title="Quick Guide"></a>Quick Guide</h2><h3 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h3><p>Nameko use RabbitMQ as a message-oriented middleware. We can easily create a rabbitmq environment by docker. You can read my previous post <a href="/2018/12/09/003%20RabbitMQ%20Installation/"><code>《RabbitMQ Installation》</code></a> for more details.</p><pre><code class="lang-yaml"># docker-compose.yml

version: &quot;2&quot;
services:
  bitbucket:
    image: &quot;rabbitmq:management&quot;
    container_name: rabbitmq
    restart: always
    ports:
      - &quot;5672:5672&quot;
      - &quot;15672:15672&quot;
</code></pre><p>OR:</p><pre><code class="lang-bash">$ docker run -d --name rabbitmq \
-p 15672:15672 -p 5672:5672 \
rabbitmq:3-management
</code></pre><h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><p>Here I use pipenv to install nameko. Pipenv is a package manager for python. You can read my last post <a href="/2019/04/13/025%20Pipenv%20Tutorial/"><code>《 Pipenv Tutorial 》</code></a> about its feature, advantages and usage.</p><pre><code class="lang-$xslt">$ pipenv install nameko
</code></pre><h3 id="Create-a-Service"><a href="#Create-a-Service" class="headerlink" title="Create a Service"></a>Create a Service</h3><pre><code class="lang-python"># myservice.py
# -*- coding: UTF-8 -*-

import os
import gensim
import numpy as np
import jieba
from scipy.linalg import norm
from nameko.rpc import rpc

BASE_DIR = os.path.abspath(os.path.dirname(__file__))
MODEL_PATH = os.path.join(BASE_DIR, &quot;data/news_12g_baidubaike_20g_novel_90g_embedding_64.bin&quot;)

model = gensim.models.KeyedVectors.load_word2vec_format(MODEL_PATH, binary=True)


def get_sentence_vector(s):
    words = jieba.lcut(s)
    sentence_vector = np.zeros(64)
    word_num = 0

    for word in words:
        try:
            word_vec = model.get_vector(word)
            sentence_vector += word_vec
            word_num += 1
        except KeyError:
            pass

    sentence_vector /= word_num
    return sentence_vector


def get_sentence_similarity(s1, s2):
    v1, v2 = get_sentence_vector(s1), get_sentence_vector(s2)
    return np.dot(v1, v2) / (norm(v1) * norm(v2))


class RPCService:
    name = &quot;sentence_similarity&quot;

    @rpc
    def compute(self, s1, s2):
        return get_sentence_similarity(s1, s2)
</code></pre><p>It’s a service to calculate the similarity of sentence in Chinese. You can just ignore the implementation of the compute function and focus on the service part.</p><pre><code class="lang-python">class RPCService:
    name = &quot;sentence_similarity&quot;

    @rpc
    def compute(self, s1, s2):
        return get_sentence_similarity(s1, s2)
</code></pre><p>It’s really concise, isn’t it? All you need to do is define the service name and add a rpc decorator to your method. You don’t have to care about how to communicate to your broker and how to serialize or deserialize your data. You don’t even need to define your data structure like protobuf and grpc do.</p><h3 id="Start-your-service"><a href="#Start-your-service" class="headerlink" title="Start your service"></a>Start your service</h3><pre><code class="lang-bash">$ nameko run [service_name] --broker [broker_uri]
</code></pre><p>For this case</p><pre><code class="lang-bash">$ nameko run service --broker amqp://guest:guest@localhost:5672
# 5672 is the default amqp port for rabbitmq

&quot;&quot;&quot; Returns
starting services: sentence_similarity
Connected to amqp://guest:**@127.0.0.1:5672//
&quot;&quot;&quot;
</code></pre><h3 id="How-to-Invoke-Client"><a href="#How-to-Invoke-Client" class="headerlink" title="How to Invoke? (Client)"></a>How to Invoke? (Client)</h3><p>You can easily test your service by nameko shell</p><pre><code class="lang-bash">$ nameko shell --broker amqp://guest:guest@localhost:5672
Nameko Python 3.7.1 (default, Apr 23 2019, 06:16:09) 
[Clang 10.0.0 (clang-1000.11.45.5)] shell on darwin
Broker: amqp://guest:guest@localhost:5672
&gt;&gt;&gt; n.rpc.sentence_similarity.compute(&quot;晚上吃了么&quot;, &quot;今晚吃了什么&quot;)
0.8222975682337561
&gt;&gt;&gt; n.rpc.sentence_similarity.compute(&quot;晚上吃了么&quot;, &quot;今天天气不错&quot;)
0.2270335911019851
</code></pre><p>You can also invoke your service by ClusterRpcProxy without any data structure definition and it looks like a synchronous method. It also has asynchronous calling methods.</p><pre><code class="lang-python">from nameko.standalone.rpc import ClusterRpcProxy

broker_cfg = {&#39;AMQP_URI&#39;: &quot;amqp://guest:guest@localhost&quot;}


def get_sentence_similarity(s1, s2):
    with ClusterRpcProxy(broker_cfg) as rpc:
        result = rpc.sentence_similarity.compute(s1, s2)
        return result


if __name__ == &quot;__main__&quot;:
    print(get_sentence_similarity(&quot;今天吃了么&quot;, &quot;今天吃什么&quot;))
</code></pre><h2 id="Other-Protocols-support"><a href="#Other-Protocols-support" class="headerlink" title="Other Protocols support"></a>Other Protocols support</h2><p>It also supports http protocol.</p><pre><code class="lang-python"># http_service.py
# -*- coding: UTF-8 -*-

import json
from nameko.web.handlers import http

class HttpService:
    name = &quot;http_service&quot;

    @http(&#39;GET&#39;, &#39;/get/&lt;int:value&gt;&#39;)
    def get_method(self, request, value):
        return json.dumps({&#39;value&#39;: value})

    @http(&#39;POST&#39;, &#39;/post&#39;)
    def do_post(self, request):
        return u&quot;received: {}&quot;.format(request.get_data(as_text=True))
</code></pre><p>Or grpc, <a href="https://github.com/nameko/nameko-grpc" target="_blank" rel="noopener">nameko-grpc</a>. Just read the docs.</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] <a href="https://www.nameko.io/" target="_blank" rel="noopener">Nameko official website</a><br>[2] <a href="https://docs.nameko.io/en/stable/" target="_blank" rel="noopener">Nameko 2.11.0 documentation</a></p></div></article><div class="blog-post-comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the comments.</noscript></div></div><div id="footer-post-container"><div id="footer-post"><div id="nav-footer" style="display:none"><ul><li><a href="/">HOME</a></li><li><a href="/archives/">ARTICLES</a></li><li><a href="/search/">SEARCH</a></li><li><a href="/links/">LINKS</a></li></ul></div><div id="toc-footer" style="display:none"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Features"><span class="toc-number">1.</span> <span class="toc-text">Features</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Quick-Guide"><span class="toc-number">2.</span> <span class="toc-text">Quick Guide</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Environment"><span class="toc-number">2.1.</span> <span class="toc-text">Environment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Install"><span class="toc-number">2.2.</span> <span class="toc-text">Install</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-a-Service"><span class="toc-number">2.3.</span> <span class="toc-text">Create a Service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Start-your-service"><span class="toc-number">2.4.</span> <span class="toc-text">Start your service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#How-to-Invoke-Client"><span class="toc-number">2.5.</span> <span class="toc-text">How to Invoke? (Client)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Other-Protocols-support"><span class="toc-number">3.</span> <span class="toc-text">Other Protocols support</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-number">4.</span> <span class="toc-text">Reference</span></a></li></ol></div><div id="share-footer" style="display:none"><ul><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/" target="_blank" rel="noopener"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&text=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&title=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&is_video=false&description=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Use Nameko + RabbitMQ to establish your Microservice&body=Check out this article: https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&title=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&title=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&title=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&title=Use Nameko + RabbitMQ to establish your Microservice" target="_blank" rel="noopener"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.tumblr.com/share/link?url=https://vincentstudio.info/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/&name=Use Nameko + RabbitMQ to establish your Microservice&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li></ul></div><div id="actions-footer"><a id="menu" class="icon" href="#" onclick='return $("#nav-footer").toggle(),!1'><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a> <a id="toc" class="icon" href="#" onclick='return $("#toc-footer").toggle(),!1'><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a> <a id="share" class="icon" href="#" onclick='return $("#share-footer").toggle(),!1'><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a> <a id="top" style="display:none" class="icon" href="#" onclick='$("html, body").animate({scrollTop:0},"fast")'><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></div></div></div><footer id="footer"><div class="footer-left">Copyright &copy; 2020 Vincent</div><div class="footer-right"><nav><ul><li><a href="/">HOME</a></li><li><a href="/archives/">ARTICLES</a></li><li><a href="/search/">SEARCH</a></li><li><a href="/links/">LINKS</a></li></ul></nav></div></footer></div><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css"><link rel="stylesheet" href="/lib/prettify/prettify.css"><link rel="stylesheet" href="/lib/prettify/themes/tomorrow-night-eighties.min.css"><script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script><link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet"><style>.pace .pace-progress{background:#e90f92;height:2px}.pace .pace-progress-inner{box-shadow:0 0 10px #fff,0 0 5px #fff}.pace .pace-activity{border-top-color:#e90f92;border-left-color:#e90f92}</style><script src="/lib/jquery/jquery.min.js"></script><script src="/lib/nicescroll/jquery.nicescroll.min.js"></script><script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script><script src="/js/main.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-0TTM4EXRD5"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0TTM4EXRD5")</script><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?7ac0adab0f2e7ed17b1d2759a04af674";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script type="text/javascript">var disqus_shortname="vincentstudio";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><link rel="stylesheet" href="/lib/fancybox/jquery.fancybox.min.css"><script src="/lib/fancybox/jquery.fancybox.min.js"></script><script src="/js/wrapImage.js"></script><script src="/lib/prettify/prettify.js"></script><script type="text/javascript">$(function(){$("pre").addClass("prettyprint linenums").attr("style","overflow: auto;"),prettyPrint()})</script>